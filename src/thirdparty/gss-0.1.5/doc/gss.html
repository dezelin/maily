<html lang="en">
<head>
<title>GNU Generic Security Service Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Generic Security Service Library">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual is last updated 22 March 2010 for version
0.1.5 of GNU GSS.

Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Simon Josefsson.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled "GNU Free Documentation License".
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
body {
	margin: 2%;
	padding: 0 5%;
	background: #ffffff;
}
h1,h2,h3,h4,h5 {
    font-weight: bold;
    padding: 5px 5px 5px 5px;
    background-color: #c2e0ff;
    color: #336699;
}
h1 {
    padding: 2em 2em 2em 5%;
    color: white;
    background: #336699;
    text-align: center;
    letter-spacing: 3px;
}
h2 { text-decoration: underline; }
pre {
  margin: 0 5%;
  padding: 0.5em;
}
pre.example {
  border: solid 1px;
  background: #eeeeff;
  padding-bottom: 1em;
}
pre.verbatim {
  border: solid 1px gray;
  background: white;
  padding-bottom: 1em;
}
div.node {
  margin: 0 -5% 0 -2%;
  padding: 0.5em 0.5em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  font-weight: bold;
}
dd, li {
  padding-top: 0.1em;
  padding-bottom: 0.1em;
}
--></style>
</head>
<body>
<h1 class="settitle">GNU Generic Security Service Library</h1>
<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">GNU Generic Security Service Library</a>
<li><a name="toc_Introduction" href="#Introduction">1 Introduction</a>
<ul>
<li><a href="#Getting-Started">1.1 Getting Started</a>
<li><a href="#Features">1.2 Features</a>
<li><a href="#GSS_002dAPI-Overview">1.3 GSS-API Overview</a>
<li><a href="#Supported-Platforms">1.4 Supported Platforms</a>
<li><a href="#Commercial-Support">1.5 Commercial Support</a>
<li><a href="#Downloading-and-Installing">1.6 Downloading and Installing</a>
<li><a href="#Bug-Reports">1.7 Bug Reports</a>
<li><a href="#Contributing">1.8 Contributing</a>
<li><a href="#Planned-Features">1.9 Planned Features</a>
</li></ul>
<li><a name="toc_Preparation" href="#Preparation">2 Preparation</a>
<ul>
<li><a href="#Header">2.1 Header</a>
<li><a href="#Initialization">2.2 Initialization</a>
<li><a href="#Version-Check">2.3 Version Check</a>
<li><a href="#Building-the-source">2.4 Building the source</a>
<li><a href="#Out-of-Memory-handling">2.5 Out of Memory handling</a>
</li></ul>
<li><a name="toc_Standard-GSS-API" href="#Standard-GSS-API">3 Standard GSS API</a>
<ul>
<li><a href="#Simple-Data-Types">3.1 Simple Data Types</a>
<ul>
<li><a href="#Simple-Data-Types">3.1.1 Integer types</a>
<li><a href="#Simple-Data-Types">3.1.2 String and similar data</a>
<ul>
<li><a href="#Simple-Data-Types">3.1.2.1 Opaque data types</a>
<li><a href="#Simple-Data-Types">3.1.2.2 Character strings</a>
</li></ul>
<li><a href="#Simple-Data-Types">3.1.3 Object Identifiers</a>
<li><a href="#Simple-Data-Types">3.1.4 Object Identifier Sets</a>
</li></ul>
<li><a href="#Complex-Data-Types">3.2 Complex Data Types</a>
<ul>
<li><a href="#Complex-Data-Types">3.2.1 Credentials</a>
<li><a href="#Complex-Data-Types">3.2.2 Contexts</a>
<li><a href="#Complex-Data-Types">3.2.3 Authentication tokens</a>
<li><a href="#Complex-Data-Types">3.2.4 Interprocess tokens</a>
<li><a href="#Complex-Data-Types">3.2.5 Names</a>
<li><a href="#Complex-Data-Types">3.2.6 Channel Bindings</a>
</li></ul>
<li><a href="#Optional-Parameters">3.3 Optional Parameters</a>
<li><a href="#Error-Handling">3.4 Error Handling</a>
<ul>
<li><a href="#Error-Handling">3.4.1 GSS status codes</a>
<li><a href="#Error-Handling">3.4.2 Mechanism-specific status codes</a>
</li></ul>
<li><a href="#Credential-Management">3.5 Credential Management</a>
<li><a href="#Context_002dLevel-Routines">3.6 Context-Level Routines</a>
<li><a href="#Per_002dMessage-Routines">3.7 Per-Message Routines</a>
<li><a href="#Name-Manipulation">3.8 Name Manipulation</a>
<li><a href="#Miscellaneous-Routines">3.9 Miscellaneous Routines</a>
<li><a href="#SASL-GS2-Routines">3.10 SASL GS2 Routines</a>
</li></ul>
<li><a name="toc_Extended-GSS-API" href="#Extended-GSS-API">4 Extended GSS API</a>
<li><a name="toc_Acknowledgements" href="#Acknowledgements">5 Acknowledgements</a>
<li><a name="toc_Criticism-of-GSS" href="#Criticism-of-GSS">Appendix A Criticism of GSS</a>
<li><a name="toc_Copying-Information" href="#Copying-Information">Appendix B Copying Information</a>
<ul>
<li><a href="#GNU-Free-Documentation-License">B.1 GNU Free Documentation License</a>
<li><a href="#GNU-GPL">B.2 GNU General Public License</a>
</li></ul>
<li><a name="toc_Concept-Index" href="#Concept-Index">Concept Index</a>
<li><a name="toc_API-Index" href="#API-Index">API Index</a>
</li></ul>
</div>



<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">GNU Generic Security Service Library</h2>

<p>This manual is last updated 22 March 2010 for version
0.1.5 of GNU GSS.

   <p>Copyright &copy; 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Simon Josefsson.

   <blockquote>
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled &ldquo;GNU Free
Documentation License&rdquo;. 
</blockquote>

<ul class="menu">
<li><a accesskey="1" href="#Introduction">Introduction</a>:                 How to use this manual. 
<li><a accesskey="2" href="#Preparation">Preparation</a>:                  What you should do before using the library. 
<li><a accesskey="3" href="#Standard-GSS-API">Standard GSS API</a>:             Reference documentation for the Standard API. 
<li><a accesskey="4" href="#Extended-GSS-API">Extended GSS API</a>:             Non-standard functions. 
<li><a accesskey="5" href="#Acknowledgements">Acknowledgements</a>:             Whom to blame.

</li></ul>
<p>Appendices

</p>
<ul class="menu">
<li><a accesskey="6" href="#Criticism-of-GSS">Criticism of GSS</a>:             Why you maybe shouldn't use GSS. 
<li><a accesskey="7" href="#Copying-Information">Copying Information</a>:          How you can copy and share GSS.

</li></ul>
<p>Indices

</p>
<ul class="menu">
<li><a accesskey="8" href="#Concept-Index">Concept Index</a>:                Index of concepts and programs. 
<li><a accesskey="9" href="#API-Index">API Index</a>:                    Index of functions, variables and data types. 
</ul>

<!-- ********************************************************** -->
<!-- *******************  Introduction  *********************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Introduction"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Preparation">Preparation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Introduction</h2>

<p>GSS is an implementation of the Generic Security Service Application
Program Interface (GSS-API).  GSS-API is used by network servers to
provide security services, e.g., to authenticate SMTP/IMAP clients
against SMTP/IMAP servers.  GSS consists of a library and a manual.

   <p>GSS is developed for the GNU/Linux system, but runs on over 20
platforms including most major Unix platforms and Windows, and many
kind of devices including iPAQ handhelds and S/390 mainframes.

   <p>GSS is a GNU project, and is licensed under the GNU General Public
License version 3 or later.

<ul class="menu">
<li><a accesskey="1" href="#Getting-Started">Getting Started</a>
<li><a accesskey="2" href="#Features">Features</a>
<li><a accesskey="3" href="#GSS_002dAPI-Overview">GSS-API Overview</a>
<li><a accesskey="4" href="#Supported-Platforms">Supported Platforms</a>
<li><a accesskey="5" href="#Commercial-Support">Commercial Support</a>
<li><a accesskey="6" href="#Downloading-and-Installing">Downloading and Installing</a>
<li><a accesskey="7" href="#Bug-Reports">Bug Reports</a>
<li><a accesskey="8" href="#Contributing">Contributing</a>
<li><a accesskey="9" href="#Planned-Features">Planned Features</a>
</ul>

<div class="node">
<a name="Getting-Started"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Features">Features</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.1 Getting Started</h3>

<p>This manual documents the GSS programming interface.  All functions
and data types provided by the library are explained.

   <p>The reader is assumed to possess basic familiarity with GSS-API and
network programming in C or C++.  For general GSS-API information, and
some programming examples, there is a guide available online at
<a href="http://docs.sun.com/db/doc/816-1331">http://docs.sun.com/db/doc/816-1331</a>.

   <p>This manual can be used in several ways.  If read from the beginning
to the end, it gives a good introduction into the library and how it
can be used in an application.  Forward references are included where
necessary.  Later on, the manual can be used as a reference manual to
get just the information needed about any particular interface of the
library.  Experienced programmers might want to start looking at the
examples at the end of the manual, and then only read up those parts
of the interface which are unclear.

<div class="node">
<a name="Features"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GSS_002dAPI-Overview">GSS-API Overview</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Getting-Started">Getting Started</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.2 Features</h3>

<p>GSS might have a couple of advantages over other libraries doing a
similar job.

     <dl>
<dt>It's Free Software<dd>Anybody can use, modify, and redistribute it under the terms of the
GNU General Public License version 3 or later.

     <br><dt>It's thread-safe<dd>No global variables are used and multiple library handles and session
handles may be used in parallell.

     <br><dt>It's internationalized<dd>It handles non-ASCII names and user visible strings used in the
library (e.g., error messages) can be translated into the users'
language.

     <br><dt>It's portable<dd>It should work on all Unix like operating systems, including Windows.

   </dl>

<div class="node">
<a name="GSS-API-Overview"></a>
<a name="GSS_002dAPI-Overview"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Supported-Platforms">Supported Platforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Features">Features</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.3 GSS-API Overview</h3>

<p>This section describes GSS-API from a protocol point of view.

   <p>The Generic Security Service Application Programming Interface
provides security services to calling applications.  It allows a
communicating application to authenticate the user associated with
another application, to delegate rights to another application, and to
apply security services such as confidentiality and integrity on a
per-message basis.

   <p>There are four stages to using the GSS-API:

     <ol type=1 start=1>
<li>The application acquires a set of credentials with which it may prove
its identity to other processes. The application's credentials vouch
for its global identity, which may or may not be related to any local
username under which it may be running.

     <li>A pair of communicating applications establish a joint security
context using their credentials.  The security context is a pair of
GSS-API data structures that contain shared state information, which
is required in order that per-message security services may be
provided.  Examples of state that might be shared between applications
as part of a security context are cryptographic keys, and message
sequence numbers.  As part of the establishment of a security context,
the context initiator is authenticated to the responder, and may
require that the responder is authenticated in turn.  The initiator
may optionally give the responder the right to initiate further
security contexts, acting as an agent or delegate of the initiator. 
This transfer of rights is termed delegation, and is achieved by
creating a set of credentials, similar to those used by the initiating
application, but which may be used by the responder.

     <p>To establish and maintain the shared information that makes up the
security context, certain GSS-API calls will return a token data
structure, which is an opaque data type that may contain
cryptographically protected data.  The caller of such a GSS-API
routine is responsible for transferring the token to the peer
application, encapsulated if necessary in an application- application
protocol.  On receipt of such a token, the peer application should
pass it to a corresponding GSS-API routine which will decode the token
and extract the information, updating the security context state
information accordingly.

     <li>Per-message services are invoked to apply either: integrity and data
origin authentication, or confidentiality, integrity and data origin
authentication to application data, which are treated by GSS-API as
arbitrary octet-strings.  An application transmitting a message that
it wishes to protect will call the appropriate GSS-API routine
(gss_get_mic or gss_wrap) to apply protection, specifying the
appropriate security context, and send the resulting token to the
receiving application.  The receiver will pass the received token
(and, in the case of data protected by gss_get_mic, the accompanying
message-data) to the corresponding decoding routine (gss_verify_mic or
gss_unwrap) to remove the protection and validate the data.

     <li>At the completion of a communications session (which may extend across
several transport connections), each application calls a GSS-API
routine to delete the security context.  Multiple contexts may also be
used (either successively or simultaneously) within a single
communications association, at the option of the applications.
        </ol>

<div class="node">
<a name="Supported-Platforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Commercial-Support">Commercial Support</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GSS_002dAPI-Overview">GSS-API Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.4 Supported Platforms</h3>

<p>GSS has at some point in time been tested on the following platforms.

     <ol type=1 start=1>

     <li>Debian GNU/Linux 3.0 (Woody)
<a name="index-Debian-1"></a>
GCC 2.95.4 and GNU Make. This is the main development platform. 
<code>alphaev67-unknown-linux-gnu</code>, <code>alphaev6-unknown-linux-gnu</code>,
<code>arm-unknown-linux-gnu</code>, <code>hppa-unknown-linux-gnu</code>,
<code>hppa64-unknown-linux-gnu</code>, <code>i686-pc-linux-gnu</code>,
<code>ia64-unknown-linux-gnu</code>, <code>m68k-unknown-linux-gnu</code>,
<code>mips-unknown-linux-gnu</code>, <code>mipsel-unknown-linux-gnu</code>,
<code>powerpc-unknown-linux-gnu</code>, <code>s390-ibm-linux-gnu</code>,
<code>sparc-unknown-linux-gnu</code>.

     <li>Debian GNU/Linux 2.1
<a name="index-Debian-2"></a>
GCC 2.95.1 and GNU Make. <code>armv4l-unknown-linux-gnu</code>.

     <li>Tru64 UNIX
<a name="index-Tru64-3"></a>
Tru64 UNIX C compiler and Tru64 Make. <code>alphaev67-dec-osf5.1</code>,
<code>alphaev68-dec-osf5.1</code>.

     <li>SuSE Linux 7.1
<a name="index-SuSE-4"></a>
GCC 2.96 and GNU Make. <code>alphaev6-unknown-linux-gnu</code>,
<code>alphaev67-unknown-linux-gnu</code>.

     <li>SuSE Linux 7.2a
<a name="index-SuSE-Linux-5"></a>
GCC 3.0 and GNU Make. <code>ia64-unknown-linux-gnu</code>.

     <li>RedHat Linux 7.2
<a name="index-RedHat-6"></a>
GCC 2.96 and GNU Make. <code>alphaev6-unknown-linux-gnu</code>,
<code>alphaev67-unknown-linux-gnu</code>, <code>ia64-unknown-linux-gnu</code>.

     <li>RedHat Linux 8.0
<a name="index-RedHat-7"></a>
GCC 3.2 and GNU Make. <code>i686-pc-linux-gnu</code>.

     <li>RedHat Advanced Server 2.1
<a name="index-RedHat-Advanced-Server-8"></a>
GCC 2.96 and GNU Make. <code>i686-pc-linux-gnu</code>.

     <li>Slackware Linux 8.0.01
<a name="index-RedHat-9"></a>
GCC 2.95.3 and GNU Make. <code>i686-pc-linux-gnu</code>.

     <li>Mandrake Linux 9.0
<a name="index-Mandrake-10"></a>
GCC 3.2 and GNU Make. <code>i686-pc-linux-gnu</code>.

     <li>IRIX 6.5
<a name="index-IRIX-11"></a>
MIPS C compiler, IRIX Make. <code>mips-sgi-irix6.5</code>.

     <li>AIX 4.3.2
<a name="index-AIX-12"></a>
IBM C for AIX compiler, AIX Make.  <code>rs6000-ibm-aix4.3.2.0</code>.

     <li>Microsoft Windows 2000 (Cygwin)
<a name="index-Windows-13"></a>
GCC 3.2, GNU make. <code>i686-pc-cygwin</code>.

     <li>HP-UX 11
<a name="index-HP_002dUX-14"></a>
HP-UX C compiler and HP Make. <code>ia64-hp-hpux11.22</code>,
<code>hppa2.0w-hp-hpux11.11</code>.

     <li>SUN Solaris 2.8
<a name="index-Solaris-15"></a>
Sun WorkShop Compiler C 6.0 and SUN Make. <code>sparc-sun-solaris2.8</code>.

     <li>NetBSD 1.6
<a name="index-NetBSD-16"></a>
GCC 2.95.3 and GNU Make. <code>alpha-unknown-netbsd1.6</code>,
<code>i386-unknown-netbsdelf1.6</code>.

     <li>OpenBSD 3.1 and 3.2
<a name="index-OpenBSD-17"></a>
GCC 2.95.3 and GNU Make. <code>alpha-unknown-openbsd3.1</code>,
<code>i386-unknown-openbsd3.1</code>.

     <li>FreeBSD 4.7
<a name="index-FreeBSD-18"></a>
GCC 2.95.4 and GNU Make. <code>alpha-unknown-freebsd4.7</code>,
<code>i386-unknown-freebsd4.7</code>.

     <li>Cross compiled to uClinux/uClibc on Motorola Coldfire. 
<a name="index-Motorola-Coldfire-19"></a><a name="index-uClinux-20"></a><a name="index-uClibc-21"></a>
GCC 3.4 and GNU Make <code>m68k-uclinux-elf</code>.

        </ol>

   <p>If you use GSS on, or port GSS to, a new platform please report it to
the author.

<div class="node">
<a name="Commercial-Support"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Downloading-and-Installing">Downloading and Installing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Supported-Platforms">Supported Platforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.5 Commercial Support</h3>

<p>Commercial support is available for users of GNU GSS.  The kind of
support that can be purchased may include:

     <ul>
<li>Implement new features. 
Such as a new GSS-API mechanism.

     <li>Port GSS to new platforms. 
This could include porting to an embedded platforms that may need
memory or size optimization.

     <li>Integrating GSS as a security environment in your existing project.

     <li>System design of components related to GSS-API.

   </ul>

   <p>If you are interested, please write to:

<pre class="verbatim">Simon Josefsson Datakonsult
Hagagatan 24
113 47 Stockholm
Sweden

E-mail: simon@josefsson.org
</pre>

   <p>If your company provides support related to GNU GSS and would like to
be mentioned here, contact the author (see <a href="#Bug-Reports">Bug Reports</a>).

<div class="node">
<a name="Downloading-and-Installing"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Bug-Reports">Bug Reports</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Commercial-Support">Commercial Support</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.6 Downloading and Installing</h3>

<p><a name="index-Installation-22"></a><a name="index-Download-23"></a>
The package can be downloaded from several places, including:

   <p><a href="ftp://alpha.gnu.org/pub/gnu/gss/">ftp://alpha.gnu.org/pub/gnu/gss/</a>

   <p>The latest version is stored in a file, e.g.,
&lsquo;<samp><span class="samp">gss-0.1.5.tar.gz</span></samp>&rsquo; where the &lsquo;<samp><span class="samp">0.1.5</span></samp>&rsquo;
indicate the highest version number.

   <p>The package is then extracted, configured and built like many other
packages that use Autoconf.  For detailed information on configuring
and building it, refer to the <samp><span class="file">INSTALL</span></samp> file that is part of the
distribution archive.

   <p>Here is an example terminal session that downloads, configures, builds
and installs the package.  You will need a few basic tools, such as
&lsquo;<samp><span class="samp">sh</span></samp>&rsquo;, &lsquo;<samp><span class="samp">make</span></samp>&rsquo; and &lsquo;<samp><span class="samp">cc</span></samp>&rsquo;.

<pre class="example">     $ wget -q ftp://alpha.gnu.org/pub/gnu/gss/gss-0.1.5.tar.gz
     $ tar xfz gss-0.1.5.tar.gz
     $ cd gss-0.1.5/
     $ ./configure
     ...
     $ make
     ...
     $ make install
     ...
</pre>
   <p>After that GSS should be properly installed and ready for use.

<div class="node">
<a name="Bug-Reports"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Contributing">Contributing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Downloading-and-Installing">Downloading and Installing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.7 Bug Reports</h3>

<p><a name="index-Reporting-Bugs-24"></a>
If you think you have found a bug in GSS, please investigate it and
report it.

     <ul>
<li>Please make sure that the bug is really in GSS, and
preferably also check that it hasn't already been fixed in the latest
version.

     <li>You have to send us a test case that makes it possible for us to
reproduce the bug.

     <li>You also have to explain what is wrong; if you get a crash, or
if the results printed are not good and in that case, in what way. 
Make sure that the bug report includes all information you would need
to fix this kind of bug for someone else.

   </ul>

   <p>Please make an effort to produce a self-contained report, with
something definite that can be tested or debugged.  Vague queries or
piecemeal messages are difficult to act on and don't help the
development effort.

   <p>If your bug report is good, we will do our best to help you to get a
corrected version of the software; if the bug report is poor, we won't
do anything about it (apart from asking you to send better bug
reports).

   <p>If you think something in this manual is unclear, or downright
incorrect, or if the language needs to be improved, please also send a
note.

   <p>Send your bug report to:

<div align="center">&lsquo;<samp><span class="samp">bug-gss@gnu.org</span></samp>&rsquo;</div>

<div class="node">
<a name="Contributing"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Planned-Features">Planned Features</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Bug-Reports">Bug Reports</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.8 Contributing</h3>

<p><a name="index-Contributing-25"></a><a name="index-Hacking-26"></a>
If you want to submit a patch for inclusion &ndash; from solve a typo you
discovered, up to adding support for a new feature &ndash; you should
submit it as a bug report (see <a href="#Bug-Reports">Bug Reports</a>).  There are some
things that you can do to increase the chances for it to be included
in the official package.

   <p>Unless your patch is very small (say, under 10 lines) we require that
you assign the copyright of your work to the Free Software Foundation. 
This is to protect the freedom of the project.  If you have not
already signed papers, we will send you the necessary information when
you submit your contribution.

   <p>For contributions that doesn't consist of actual programming code, the
only guidelines are common sense.  Use it.

   <p>For code contributions, a number of style guides will help you:

     <ul>
<li>Coding Style. 
Follow the GNU Standards document (see <a href="standards.html#Top">GNU Coding Standards</a>).

     <p>If you normally code using another coding standard, there is no
problem, but you should use &lsquo;<samp><span class="samp">indent</span></samp>&rsquo; to reformat the code
(see <a href="indent.html#Top">GNU Indent</a>) before submitting your work.

     <li>Use the unified diff format &lsquo;<samp><span class="samp">diff -u</span></samp>&rsquo;.

     <li>Return errors. 
No reason whatsoever should abort the execution of the library.  Even
memory allocation errors, e.g. when malloc return NULL, should work
although result in an error code.

     <li>Design with thread safety in mind. 
Don't use global variables.  Don't even write to per-handle global
variables unless the documented behaviour of the function you write is
to write to the per-handle global variable.

     <li>Avoid using the C math library. 
It causes problems for embedded implementations, and in most
situations it is very easy to avoid using it.

     <li>Document your functions. 
Use comments before each function headers, that, if properly
formatted, are extracted into Texinfo manuals and GTK-DOC web pages.

     <li>Supply a ChangeLog and NEWS entries, where appropriate.

   </ul>

<div class="node">
<a name="Planned-Features"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Contributing">Contributing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.9 Planned Features</h3>

<p><a name="index-Todo-list-27"></a><a name="index-Future-goals-28"></a>
This is also known as the &ldquo;todo list&rdquo;.  If you like to start working
on anything, please let me know so work duplication can be avoided.

     <ul>
<li>Support non-blocking mode. 
This would be an API extension.  It could work by forking a process
and interface to it, or by using a user-specific daemon.  E.g., h =
START(accept_sec_context(...)), FINISHED(h), ret = FINISH(h), ABORT(h).

     <li>Compute MD5 of non-empty channel bindings.

     <li>Support loadable modules via dlopen, a'la Solaris GSS.

     <li>Port to Cyclone? CCured?

   </ul>

<!-- ********************************************************** -->
<!-- *******************  Preparation  ************************ -->
<!-- ********************************************************** -->
<div class="node">
<a name="Preparation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Standard-GSS-API">Standard GSS API</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Preparation</h2>

<p>To use GSS, you have to perform some changes to your sources and the
build system.  The necessary changes are small and explained in the
following sections.  At the end of this chapter, it is described how
the library is initialized, and how the requirements of the library
are verified.

   <p>A faster way to find out how to adapt your application for use with
GSS may be to look at the examples at the end of this manual.

<ul class="menu">
<li><a accesskey="1" href="#Header">Header</a>
<li><a accesskey="2" href="#Initialization">Initialization</a>
<li><a accesskey="3" href="#Version-Check">Version Check</a>
<li><a accesskey="4" href="#Building-the-source">Building the source</a>
<li><a accesskey="5" href="#Out-of-Memory-handling">Out of Memory handling</a>
</ul>

<div class="node">
<a name="Header"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Initialization">Initialization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.1 Header</h3>

<p><a name="index-Header-files-29"></a>All standard interfaces (data types and functions) of the official GSS
API are defined in the header file <samp><span class="file">gss/api.h</span></samp>.  The file is
taken verbatim from the RFC (after correcting a few typos) where it is
known as <samp><span class="file">gssapi.h</span></samp>.  However, to be able to co-exist gracefully
with other GSS-API implementation, the name <samp><span class="file">gssapi.h</span></samp> was
changed.

   <p>The header file <samp><span class="file">gss.h</span></samp> includes <samp><span class="file">gss/api.h</span></samp>, and declares a
few non-standard extensions (by including <samp><span class="file">gss/ext.h</span></samp>), takes
care of including header files related to all supported mechanisms
(e.g., <samp><span class="file">gss/krb5.h</span></samp>) and finally adds C++ namespace protection of
all definitions.  Therefore, including <samp><span class="file">gss.h</span></samp> in your project is
recommended over <samp><span class="file">gss/api.h</span></samp>.  If using <samp><span class="file">gss.h</span></samp> instead of
<samp><span class="file">gss/api.h</span></samp> causes problems, it should be regarded a bug.

   <p>You must include either file in all programs using the library, either
directly or through some other header file, like this:

<pre class="example">     #include &lt;gss.h&gt;
</pre>
   <p>The name space of GSS is <code>gss_*</code> for function names, <code>gss_*</code>
for data types and <code>GSS_*</code> for other symbols.  In addition the
same name prefixes with one prepended underscore are reserved for
internal use and should never be used by an application.

   <p>Each supported GSS mechanism may want to expose mechanism specific
functionality, and can do so through one or more header files under
the <samp><span class="file">gss/</span></samp> directory.  The Kerberos 5 mechanism uses the file
<samp><span class="file">gss/krb5.h</span></samp>, but again, it is included (with C++ namespace
fixes) from <samp><span class="file">gss.h</span></samp>.

<div class="node">
<a name="Initialization"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Version-Check">Version Check</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Header">Header</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.2 Initialization</h3>

<p>GSS does not need to be initialized before it can be used.

   <p>In order to take advantage of the internationalisation features in
GSS, e.g. translated error messages, the application must set the
current locale using <code>setlocale()</code> before calling, e.g.,
<code>gss_display_status()</code>.  This is typically done in <code>main()</code>
as in the following example.

<pre class="example">     #include &lt;gss.h&gt;
     #include &lt;locale.h&gt;
     ...
       setlocale (LC_ALL, "");
</pre>
   <div class="node">
<a name="Version-Check"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Building-the-source">Building the source</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Initialization">Initialization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.3 Version Check</h3>

<p>It is often desirable to check that the version of GSS used is indeed
one which fits all requirements.  Even with binary compatibility new
features may have been introduced but due to problem with the dynamic
linker an old version is actually used.  So you may want to check that
the version is okay right after program startup.  The function is
called <code>gss_check_version()</code> and is described formally in
See <a href="#Extended-GSS-API">Extended GSS API</a>.

   <p>The normal way to use the function is to put something similar to the
following early in your <code>main()</code>:

<pre class="example">     #include &lt;gss.h&gt;
     ...
       if (!gss_check_version (GSS_VERSION))
         {
           printf ("gss_check_version() failed:\n"
                   "Header file incompatible with shared library.\n");
           exit(EXIT_FAILURE);
         }
</pre>
   <div class="node">
<a name="Building-the-source"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Out-of-Memory-handling">Out of Memory handling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Version-Check">Version Check</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.4 Building the source</h3>

<p><a name="index-Compiling-your-application-30"></a>
If you want to compile a source file that includes the <samp><span class="file">gss.h</span></samp> header
file, you must make sure that the compiler can find it in the
directory hierarchy.  This is accomplished by adding the path to the
directory in which the header file is located to the compilers include
file search path (via the <samp><span class="option">-I</span></samp> option).

   <p>However, the path to the include file is determined at the time the
source is configured.  To solve this problem, GSS uses the external
package <samp><span class="command">pkg-config</span></samp> that knows the path to the include file
and other configuration options.  The options that need to be added to
the compiler invocation at compile time are output by the
<samp><span class="option">--cflags</span></samp> option to <samp><span class="command">pkg-config gss</span></samp>.  The following
example shows how it can be used at the command line:

<pre class="example">     gcc -c foo.c `pkg-config gss --cflags`
</pre>
   <p>Adding the output of &lsquo;<samp><span class="samp">pkg-config gss --cflags</span></samp>&rsquo; to the compilers
command line will ensure that the compiler can find the <samp><span class="file">gss.h</span></samp> header
file.

   <p>A similar problem occurs when linking the program with the library. 
Again, the compiler has to find the library files.  For this to work,
the path to the library files has to be added to the library search
path (via the <samp><span class="option">-L</span></samp> option).  For this, the option
<samp><span class="option">--libs</span></samp> to <samp><span class="command">pkg-config gss</span></samp> can be used.  For
convenience, this option also outputs all other options that are
required to link the program with the GSS libarary (for instance, the
&lsquo;<samp><span class="samp">-lshishi</span></samp>&rsquo; option).  The example shows how to link <samp><span class="file">foo.o</span></samp>
with GSS into a program <samp><span class="command">foo</span></samp>.

<pre class="example">     gcc -o foo foo.o `pkg-config gss --libs`
</pre>
   <p>Of course you can also combine both examples to a single command by
specifying both options to <samp><span class="command">pkg-config</span></samp>:

<pre class="example">     gcc -o foo foo.c `pkg-config gss --cflags --libs`
</pre>
   <div class="node">
<a name="Out-of-Memory-handling"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Building-the-source">Building the source</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.5 Out of Memory handling</h3>

<p><a name="index-Out-of-Memory-handling-31"></a><a name="index-Memory-allocation-failure-32"></a>The GSS API does not have a standard error code for the out of memory
error condition.  This library will return <code>GSS_S_FAILURE</code> and
set <code>minor_status</code> to ENOMEM.

<!-- ********************************************************** -->
<!-- ************** Generic Security Services  **************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Standard-GSS-API"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Extended-GSS-API">Extended GSS API</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Preparation">Preparation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Standard GSS API</h2>

<ul class="menu">
<li><a accesskey="1" href="#Simple-Data-Types">Simple Data Types</a>: 		About integers, strings, OIDs, and OID sets. 
<li><a accesskey="2" href="#Complex-Data-Types">Complex Data Types</a>: 		About credentials, contexts, names, etc. 
<li><a accesskey="3" href="#Optional-Parameters">Optional Parameters</a>: 		What value to use when you don't want one. 
<li><a accesskey="4" href="#Error-Handling">Error Handling</a>: 		How errors in GSS are reported and handled. 
<li><a accesskey="5" href="#Credential-Management">Credential Management</a>: 	Standard GSS credential functions. 
<li><a accesskey="6" href="#Context_002dLevel-Routines">Context-Level Routines</a>: 	Standard GSS context functions. 
<li><a accesskey="7" href="#Per_002dMessage-Routines">Per-Message Routines</a>: 	Standard GSS per-message functions. 
<li><a accesskey="8" href="#Name-Manipulation">Name Manipulation</a>: 		Standard GSS name manipulation functions. 
<li><a accesskey="9" href="#Miscellaneous-Routines">Miscellaneous Routines</a>: 	Standard miscellaneous functions. 
<li><a href="#SASL-GS2-Routines">SASL GS2 Routines</a>: 	        Standard SASL GS2 related functions. 
</ul>

<div class="node">
<a name="Simple-Data-Types"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Complex-Data-Types">Complex Data Types</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.1 Simple Data Types</h3>

<p>The following conventions are used by the GSS-API C-language bindings:

<h4 class="subsection">3.1.1 Integer types</h4>

<p>GSS-API uses the following integer data type:

<pre class="verbatim">   OM_uint32    32-bit unsigned integer
</pre>

<h4 class="subsection">3.1.2 String and similar data</h4>

<p>Many of the GSS-API routines take arguments and return values that
describe contiguous octet-strings.  All such data is passed between
the GSS-API and the caller using the <code>gss_buffer_t</code> data type. 
This data type is a pointer to a buffer descriptor, which consists of
a length field that contains the total number of bytes in the datum,
and a value field which contains a pointer to the actual datum:

<pre class="verbatim">   typedef struct gss_buffer_desc_struct {
      size_t    length;
      void      *value;
   } gss_buffer_desc, *gss_buffer_t;
</pre>

   <p>Storage for data returned to the application by a GSS-API routine
using the <code>gss_buffer_t</code> conventions is allocated by the GSS-API
routine.  The application may free this storage by invoking the
<code>gss_release_buffer</code> routine.  Allocation of the
<code>gss_buffer_desc</code> object is always the responsibility of the
application; unused <code>gss_buffer_desc</code> objects may be initialized
to the value <code>GSS_C_EMPTY_BUFFER</code>.

<h5 class="subsubsection">3.1.2.1 Opaque data types</h5>

<p>Certain multiple-word data items are considered opaque data types at
the GSS-API, because their internal structure has no significance
either to the GSS-API or to the caller.  Examples of such opaque data
types are the input_token parameter to <code>gss_init_sec_context</code>
(which is opaque to the caller), and the input_message parameter to
<code>gss_wrap</code> (which is opaque to the GSS-API).  Opaque data is
passed between the GSS-API and the application using the
<code>gss_buffer_t</code> datatype.

<h5 class="subsubsection">3.1.2.2 Character strings</h5>

<p>Certain multiple-word data items may be regarded as simple ISO Latin-1
character strings.  Examples are the printable strings passed to
<code>gss_import_name</code> via the input_name_buffer parameter. Some
GSS-API routines also return character strings.  All such character
strings are passed between the application and the GSS-API
implementation using the <code>gss_buffer_t</code> datatype, which is a
pointer to a <code>gss_buffer_desc</code> object.

   <p>When a <code>gss_buffer_desc</code> object describes a printable string, the
length field of the <code>gss_buffer_desc</code> should only count printable
characters within the string.  In particular, a trailing NUL character
should NOT be included in the length count, nor should either the
GSS-API implementation or the application assume the presence of an
uncounted trailing NUL.

<h4 class="subsection">3.1.3 Object Identifiers</h4>

<p><a name="Object-Identifiers"></a>Certain GSS-API procedures take parameters of the type <code>gss_OID</code>,
or Object identifier.  This is a type containing ISO-defined tree-
structured values, and is used by the GSS-API caller to select an
underlying security mechanism and to specify namespaces.  A value of
type <code>gss_OID</code> has the following structure:

<pre class="verbatim">   typedef struct gss_OID_desc_struct {
      OM_uint32   length;
      void        *elements;
   } gss_OID_desc, *gss_OID;
</pre>

   <p>The elements field of this structure points to the first byte of an
octet string containing the ASN.1 BER encoding of the value portion of
the normal BER TLV encoding of the <code>gss_OID</code>.  The length field
contains the number of bytes in this value.  For example, the
<code>gss_OID</code> value corresponding to <code>iso(1)
identified-organization(3) icd-ecma(12) member-company(2) dec(1011)
cryptoAlgorithms(7) DASS(5)</code>, meaning the DASS X.509 authentication
mechanism, has a length field of 7 and an elements field pointing to
seven octets containing the following octal values:
53,14,2,207,163,7,5. GSS-API implementations should provide constant
<code>gss_OID</code> values to allow applications to request any supported
mechanism, although applications are encouraged on portability grounds
to accept the default mechanism.  <code>gss_OID</code> values should also be
provided to allow applications to specify particular name types (see
section 3.10).  Applications should treat <code>gss_OID_desc</code> values
returned by GSS-API routines as read-only.  In particular, the
application should not attempt to deallocate them with free().

<h4 class="subsection">3.1.4 Object Identifier Sets</h4>

<p>Certain GSS-API procedures take parameters of the type
<code>gss_OID_set</code>.  This type represents one or more object
identifiers (see <a href="#Object-Identifiers">Object Identifiers</a>).  A <code>gss_OID_set</code> object
has the following structure:

<pre class="verbatim">   typedef struct gss_OID_set_desc_struct {
      size_t    count;
      gss_OID   elements;
   } gss_OID_set_desc, *gss_OID_set;
</pre>

   <p>The count field contains the number of OIDs within the set.  The
elements field is a pointer to an array of <code>gss_OID_desc</code>
objects, each of which describes a single OID.  <code>gss_OID_set</code>
values are used to name the available mechanisms supported by the
GSS-API, to request the use of specific mechanisms, and to indicate
which mechanisms a given credential supports.

   <p>All OID sets returned to the application by GSS-API are dynamic
objects (the <code>gss_OID_set_desc</code>, the "elements" array of the set,
and the "elements" array of each member OID are all dynamically
allocated), and this storage must be deallocated by the application
using the <code>gss_release_oid_set</code> routine.

<div class="node">
<a name="Complex-Data-Types"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Optional-Parameters">Optional Parameters</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Simple-Data-Types">Simple Data Types</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.2 Complex Data Types</h3>

<h4 class="subsection">3.2.1 Credentials</h4>

<p>A credential handle is a caller-opaque atomic datum that identifies a
GSS-API credential data structure.  It is represented by the caller-
opaque type <code>gss_cred_id_t</code>.

   <p>GSS-API credentials can contain mechanism-specific principal
authentication data for multiple mechanisms.  A GSS-API credential is
composed of a set of credential-elements, each of which is applicable
to a single mechanism.  A credential may contain at most one
credential-element for each supported mechanism. A credential-element
identifies the data needed by a single mechanism to authenticate a
single principal, and conceptually contains two credential-references
that describe the actual mechanism-specific authentication data, one
to be used by GSS-API for initiating contexts, and one to be used for
accepting contexts.  For mechanisms that do not distinguish between
acceptor and initiator credentials, both references would point to the
same underlying mechanism-specific authentication data.

   <p>Credentials describe a set of mechanism-specific principals, and give
their holder the ability to act as any of those principals. All
principal identities asserted by a single GSS-API credential should
belong to the same entity, although enforcement of this property is an
implementation-specific matter.  The GSS-API does not make the actual
credentials available to applications; instead a credential handle is
used to identify a particular credential, held internally by GSS-API. 
The combination of GSS-API credential handle and mechanism identifies
the principal whose identity will be asserted by the credential when
used with that mechanism.

   <p>The <code>gss_init_sec_context</code> and <code>gss_accept_sec_context</code>
routines allow the value <code>GSS_C_NO_CREDENTIAL</code> to be specified as
their credential handle parameter.  This special credential-handle
indicates a desire by the application to act as a default principal.

<h4 class="subsection">3.2.2 Contexts</h4>

<p>The <code>gss_ctx_id_t</code> data type contains a caller-opaque atomic
value that identifies one end of a GSS-API security context.

   <p>The security context holds state information about each end of a peer
communication, including cryptographic state information.

<h4 class="subsection">3.2.3 Authentication tokens</h4>

<p>A token is a caller-opaque type that GSS-API uses to maintain
synchronization between the context data structures at each end of a
GSS-API security context.  The token is a cryptographically protected
octet-string, generated by the underlying mechanism at one end of a
GSS-API security context for use by the peer mechanism at the other
end.  Encapsulation (if required) and transfer of the token are the
responsibility of the peer applications.  A token is passed between
the GSS-API and the application using the <code>gss_buffer_t</code>
conventions.

<h4 class="subsection">3.2.4 Interprocess tokens</h4>

<p>Certain GSS-API routines are intended to transfer data between
processes in multi-process programs.  These routines use a
caller-opaque octet-string, generated by the GSS-API in one process
for use by the GSS-API in another process.  The calling application is
responsible for transferring such tokens between processes in an
OS-specific manner.  Note that, while GSS-API implementors are
encouraged to avoid placing sensitive information within interprocess
tokens, or to cryptographically protect them, many implementations
will be unable to avoid placing key material or other sensitive data
within them.  It is the application's responsibility to ensure that
interprocess tokens are protected in transit, and transferred only to
processes that are trustworthy. An interprocess token is passed
between the GSS-API and the application using the <code>gss_buffer_t</code>
conventions.

<h4 class="subsection">3.2.5 Names</h4>

<p>A name is used to identify a person or entity.  GSS-API authenticates
the relationship between a name and the entity claiming the name.

   <p>Since different authentication mechanisms may employ different
namespaces for identifying their principals, GSSAPI's naming support
is necessarily complex in multi-mechanism environments (or even in
some single-mechanism environments where the underlying mechanism
supports multiple namespaces).

   <p>Two distinct representations are defined for names:

     <ul>
<li>An internal form. 
This is the GSS-API "native" format for names, represented by the
implementation-specific <code>gss_name_t</code> type.  It is opaque to
GSS-API callers.  A single <code>gss_name_t</code> object may contain
multiple names from different namespaces, but all names should refer
to the same entity.  An example of such an internal name would be the
name returned from a call to the <code>gss_inquire_cred</code> routine, when
applied to a credential containing credential elements for multiple
authentication mechanisms employing different namespaces.  This
<code>gss_name_t</code> object will contain a distinct name for the entity
for each authentication mechanism.

     <p>For GSS-API implementations supporting multiple namespaces, objects of
type <code>gss_name_t</code> must contain sufficient information to
determine the namespace to which each primitive name belongs.

     <li>Mechanism-specific contiguous octet-string forms. 
A format capable of containing a single name (from a single
namespace).  Contiguous string names are always accompanied by an
object identifier specifying the namespace to which the name belongs,
and their format is dependent on the authentication mechanism that
employs the name.  Many, but not all, contiguous string names will be
printable, and may therefore be used by GSS-API applications for
communication with their users. 
</ul>

   <p>Routines (<code>gss_import_name</code> and <code>gss_display_name</code>) are
provided to convert names between contiguous string representations
and the internal <code>gss_name_t</code> type.  <code>gss_import_name</code> may
support multiple syntaxes for each supported namespace, allowing users
the freedom to choose a preferred name
representation. <code>gss_display_name</code> should use an
implementation-chosen printable syntax for each supported name-type.

   <p>If an application calls <code>gss_display_name</code>, passing the internal
name resulting from a call to <code>gss_import_name</code>, there is no
guarantee the resulting contiguous string name will be the same as the
original imported string name.  Nor do name-space identifiers
necessarily survive unchanged after a journey through the internal
name-form.  An example of this might be a mechanism that authenticates
X.500 names, but provides an algorithmic mapping of Internet DNS names
into X.500.  That mechanism's implementation of <code>gss_import_name</code>
might, when presented with a DNS name, generate an internal name that
contained both the original DNS name and the equivalent X.500 name. 
Alternatively, it might only store the X.500 name.  In the latter
case, <code>gss_display_name</code> would most likely generate a printable
X.500 name, rather than the original DNS name.

   <p>The process of authentication delivers to the context acceptor an
internal name.  Since this name has been authenticated by a single
mechanism, it contains only a single name (even if the internal name
presented by the context initiator to <code>gss_init_sec_context</code> had
multiple components).  Such names are termed internal mechanism names,
or "MN"s and the names emitted by <code>gss_accept_sec_context</code> are
always of this type.  Since some applications may require MNs without
wanting to incur the overhead of an authentication operation, a second
function, <code>gss_canonicalize_name</code>, is provided to convert a
general internal name into an MN.

   <p>Comparison of internal-form names may be accomplished via the
<code>gss_compare_name</code> routine, which returns true if the two names
being compared refer to the same entity.  This removes the need for
the application program to understand the syntaxes of the various
printable names that a given GSS-API implementation may support. 
Since GSS-API assumes that all primitive names contained within a
given internal name refer to the same entity, <code>gss_compare_name</code>
can return true if the two names have at least one primitive name in
common.  If the implementation embodies knowledge of equivalence
relationships between names taken from different namespaces, this
knowledge may also allow successful comparison of internal names
containing no overlapping primitive elements.

   <p>When used in large access control lists, the overhead of invoking
<code>gss_import_name</code> and <code>gss_compare_name</code> on each name from
the ACL may be prohibitive.  As an alternative way of supporting this
case, GSS-API defines a special form of the contiguous string name
which may be compared directly (e.g. with memcmp()).  Contiguous names
suitable for comparison are generated by the <code>gss_export_name</code>
routine, which requires an MN as input.  Exported names may be re-
imported by the <code>gss_import_name</code> routine, and the resulting
internal name will also be an MN.  The <code>gss_OID</code> constant
<code>GSS_C_NT_EXPORT_NAME</code> indentifies the "export name" type, and
the value of this constant is given in Appendix A.  Structurally, an
exported name object consists of a header containing an OID
identifying the mechanism that authenticated the name, and a trailer
containing the name itself, where the syntax of the trailer is defined
by the individual mechanism specification.  The precise format of an
export name is defined in the language-independent GSS-API
specification [GSSAPI].

   <p>Note that the results obtained by using <code>gss_compare_name</code> will
in general be different from those obtained by invoking
<code>gss_canonicalize_name</code> and <code>gss_export_name</code>, and then
comparing the exported names.  The first series of operation
determines whether two (unauthenticated) names identify the same
principal; the second whether a particular mechanism would
authenticate them as the same principal.  These two operations will in
general give the same results only for MNs.

   <p>The <code>gss_name_t</code> datatype should be implemented as a pointer
type. To allow the compiler to aid the application programmer by
performing type-checking, the use of (void *) is discouraged.  A
pointer to an implementation-defined type is the preferred choice.

   <p>Storage is allocated by routines that return <code>gss_name_t</code>
values. A procedure, <code>gss_release_name</code>, is provided to free
storage associated with an internal-form name.

<h4 class="subsection">3.2.6 Channel Bindings</h4>

<p>GSS-API supports the use of user-specified tags to identify a given
context to the peer application.  These tags are intended to be used
to identify the particular communications channel that carries the
context.  Channel bindings are communicated to the GSS-API using the
following structure:

<pre class="verbatim">   typedef struct gss_channel_bindings_struct {
      OM_uint32       initiator_addrtype;
      gss_buffer_desc initiator_address;
      OM_uint32       acceptor_addrtype;
      gss_buffer_desc acceptor_address;
      gss_buffer_desc application_data;
   } *gss_channel_bindings_t;
</pre>

   <p>The initiator_addrtype and acceptor_addrtype fields denote the type of
addresses contained in the initiator_address and acceptor_address
buffers.  The address type should be one of the following:

<pre class="verbatim">   GSS_C_AF_UNSPEC     Unspecified address type
   GSS_C_AF_LOCAL      Host-local address type
   GSS_C_AF_INET       Internet address type (e.g. IP)
   GSS_C_AF_IMPLINK    ARPAnet IMP address type
   GSS_C_AF_PUP        pup protocols (eg BSP) address type
   GSS_C_AF_CHAOS      MIT CHAOS protocol address type
   GSS_C_AF_NS         XEROX NS address type
   GSS_C_AF_NBS        nbs address type
   GSS_C_AF_ECMA       ECMA address type
   GSS_C_AF_DATAKIT    datakit protocols address type
   GSS_C_AF_CCITT      CCITT protocols
   GSS_C_AF_SNA        IBM SNA address type
   GSS_C_AF_DECnet     DECnet address type
   GSS_C_AF_DLI        Direct data link interface address type
   GSS_C_AF_LAT        LAT address type
   GSS_C_AF_HYLINK     NSC Hyperchannel address type
   GSS_C_AF_APPLETALK  AppleTalk address type
   GSS_C_AF_BSC        BISYNC 2780/3780 address type
   GSS_C_AF_DSS        Distributed system services address type
   GSS_C_AF_OSI        OSI TP4 address type
   GSS_C_AF_X25        X.25
   GSS_C_AF_NULLADDR   No address specified
</pre>

   <p>Note that these symbols name address families rather than specific
addressing formats.  For address families that contain several
alternative address forms, the initiator_address and acceptor_address
fields must contain sufficient information to determine which address
form is used.  When not otherwise specified, addresses should be
specified in network byte-order (that is, native byte-ordering for the
address family).

   <p>Conceptually, the GSS-API concatenates the initiator_addrtype,
initiator_address, acceptor_addrtype, acceptor_address and
application_data to form an octet string.  The mechanism calculates a
MIC over this octet string, and binds the MIC to the context
establishment token emitted by <code>gss_init_sec_context</code>. The same bindings
are presented by the context acceptor to <code>gss_accept_sec_context</code>, and a
MIC is calculated in the same way. The calculated MIC is compared with
that found in the token, and if the MICs differ,
<code>gss_accept_sec_context</code> will return a <code>GSS_S_BAD_BINDINGS</code> error, and the
context will not be established.  Some mechanisms may include the
actual channel binding data in the token (rather than just a MIC);
applications should therefore not use confidential data as
channel-binding components.

   <p>Individual mechanisms may impose additional constraints on addresses
and address types that may appear in channel bindings.  For example, a
mechanism may verify that the initiator_address field of the channel
bindings presented to <code>gss_init_sec_context</code> contains the correct
network address of the host system.  Portable applications should
therefore ensure that they either provide correct information for the
address fields, or omit addressing information, specifying
<code>GSS_C_AF_NULLADDR</code> as the address-types.

<div class="node">
<a name="Optional-Parameters"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Error-Handling">Error Handling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Complex-Data-Types">Complex Data Types</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.3 Optional Parameters</h3>

<p>Various parameters are described as optional.  This means that they
follow a convention whereby a default value may be requested.  The
following conventions are used for omitted parameters.  These
conventions apply only to those parameters that are explicitly
documented as optional.

     <ul>
<li>gss_buffer_t types. 
Specify GSS_C_NO_BUFFER as a value.  For an input parameter this
signifies that default behavior is requested, while for an output
parameter it indicates that the information that would be returned via
the parameter is not required by the application.

     <li>Integer types (input). 
Individual parameter documentation lists values to be used to indicate
default actions.

     <li>Integer types (output). 
Specify NULL as the value for the pointer.

     <li>Pointer types. 
Specify NULL as the value.

     <li>Object IDs. 
Specify GSS_C_NO_OID as the value.

     <li>Object ID Sets. 
Specify GSS_C_NO_OID_SET as the value.

     <li>Channel Bindings. 
Specify GSS_C_NO_CHANNEL_BINDINGS to indicate that channel bindings
are not to be used. 
</ul>

<div class="node">
<a name="Error-Handling"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Credential-Management">Credential Management</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Optional-Parameters">Optional Parameters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.4 Error Handling</h3>

<p><a name="index-status-codes-33"></a><a name="index-mechanism-status-codes-34"></a>Every GSS-API routine returns two distinct values to report status
information to the caller: GSS status codes and Mechanism status
codes.

<h4 class="subsection">3.4.1 GSS status codes</h4>

<p>GSS-API routines return GSS status codes as their <code>OM_uint32</code>
function value.  These codes indicate errors that are independent of
the underlying mechanism(s) used to provide the security service.  The
errors that can be indicated via a GSS status code are either generic
API routine errors (errors that are defined in the GSS-API
specification) or calling errors (errors that are specific to these
language bindings).

   <p>A GSS status code can indicate a single fatal generic API error from
the routine and a single calling error.  In addition, supplementary
status information may be indicated via the setting of bits in the
supplementary info field of a GSS status code.

   <p>These errors are encoded into the 32-bit GSS status code as follows:

<pre class="verbatim">      MSB                                                        LSB
      |------------------------------------------------------------|
      |  Calling Error | Routine Error  |    Supplementary Info    |
      |------------------------------------------------------------|
   Bit 31            24 23            16 15                       0
</pre>

   <p>Hence if a GSS-API routine returns a GSS status code whose upper 16
bits contain a non-zero value, the call failed.  If the calling error
field is non-zero, the invoking application's call of the routine was
erroneous.  Calling errors are defined in table 3-1.  If the routine
error field is non-zero, the routine failed for one of the routine-
specific reasons listed below in table 3-2.  Whether or not the upper
16 bits indicate a failure or a success, the routine may indicate
additional information by setting bits in the supplementary info field
of the status code. The meaning of individual bits is listed below in
table 3-3.

   <p><a name="index-GSS_005fS_005f_002e_002e_002e-35"></a>
<pre class="verbatim">   Table 3-1  Calling Errors

   Name                   Value in field           Meaning
   ----                   --------------           -------
   GSS_S_CALL_INACCESSIBLE_READ  1       A required input parameter
                                         could not be read
   GSS_S_CALL_INACCESSIBLE_WRITE 2       A required output parameter
                                          could not be written.
   GSS_S_CALL_BAD_STRUCTURE      3       A parameter was malformed
</pre>

<pre class="verbatim">   Table 3-2  Routine Errors

   Name                   Value in field           Meaning
   ----                   --------------           -------
   GSS_S_BAD_MECH                1       An unsupported mechanism
                                         was requested
   GSS_S_BAD_NAME                2       An invalid name was
                                         supplied
   GSS_S_BAD_NAMETYPE            3       A supplied name was of an
                                         unsupported type
   GSS_S_BAD_BINDINGS            4       Incorrect channel bindings
                                         were supplied
   GSS_S_BAD_STATUS              5       An invalid status code was
                                         supplied
   GSS_S_BAD_MIC GSS_S_BAD_SIG   6       A token had an invalid MIC
   GSS_S_NO_CRED                 7       No credentials were
                                         supplied, or the
                                         credentials were
                                         unavailable or
                                         inaccessible.
   GSS_S_NO_CONTEXT              8       No context has been
                                         established
   GSS_S_DEFECTIVE_TOKEN         9       A token was invalid
   GSS_S_DEFECTIVE_CREDENTIAL   10       A credential was invalid
   GSS_S_CREDENTIALS_EXPIRED    11       The referenced credentials
                                         have expired
   GSS_S_CONTEXT_EXPIRED        12       The context has expired
   GSS_S_FAILURE                13       Miscellaneous failure (see
                                         text)
   GSS_S_BAD_QOP                14       The quality-of-protection
                                         requested could not be
                                         provided
   GSS_S_UNAUTHORIZED           15       The operation is forbidden
                                         by local security policy
   GSS_S_UNAVAILABLE            16       The operation or option is
                                         unavailable
   GSS_S_DUPLICATE_ELEMENT      17       The requested credential
                                         element already exists
   GSS_S_NAME_NOT_MN            18       The provided name was not a
                                         mechanism name
</pre>

<pre class="verbatim">   Table 3-3  Supplementary Status Bits

   Name                   Bit Number           Meaning
   ----                   ----------           -------
   GSS_S_CONTINUE_NEEDED   0 (LSB)   Returned only by
                                     gss_init_sec_context or
                                     gss_accept_sec_context. The
                                     routine must be called again
                                     to complete its function.
                                     See routine documentation for
                                     detailed description
   GSS_S_DUPLICATE_TOKEN   1         The token was a duplicate of
                                     an earlier token
   GSS_S_OLD_TOKEN         2         The token's validity period
                                     has expired
   GSS_S_UNSEQ_TOKEN       3         A later token has already been
                                     processed
   GSS_S_GAP_TOKEN         4         An expected per-message token
                                     was not received
</pre>

   <p>The routine documentation also uses the name GSS_S_COMPLETE, which is
a zero value, to indicate an absence of any API errors or
supplementary information bits.

   <p><a name="index-GSS_005fCALLING_005fERROR-36"></a><a name="index-GSS_005fROUTINE_005fERROR-37"></a><a name="index-GSS_005fSUPPLEMENTARY_005fINFO-38"></a><a name="index-GSS_005fERROR-39"></a>All GSS_S_xxx symbols equate to complete <code>OM_uint32</code> status
codes, rather than to bitfield values.  For example, the actual value
of the symbol <code>GSS_S_BAD_NAMETYPE</code> (value 3 in the routine error
field) is 3&lt;&lt;16.  The macros <code>GSS_CALLING_ERROR</code>,
<code>GSS_ROUTINE_ERROR</code> and <code>GSS_SUPPLEMENTARY_INFO</code> are
provided, each of which takes a GSS status code and removes all but
the relevant field.  For example, the value obtained by applying
<code>GSS_ROUTINE_ERROR</code> to a status code removes the calling errors
and supplementary info fields, leaving only the routine errors field. 
The values delivered by these macros may be directly compared with a
<code>GSS_S_xxx</code> symbol of the appropriate type.  The macro
<code>GSS_ERROR</code> is also provided, which when applied to a GSS status
code returns a non-zero value if the status code indicated a calling
or routine error, and a zero value otherwise.  All macros defined by
GSS-API evaluate their argument(s) exactly once.

   <p>A GSS-API implementation may choose to signal calling errors in a
platform-specific manner instead of, or in addition to the routine
value; routine errors and supplementary info should be returned via
major status values only.

   <p>The GSS major status code <code>GSS_S_FAILURE</code> is used to indicate
that the underlying mechanism detected an error for which no specific
GSS status code is defined.  The mechanism-specific status code will
provide more details about the error.

   <p>In addition to the explicit major status codes for each API function,
the code <code>GSS_S_FAILURE</code> may be returned by any routine,
indicating an implementation-specific or mechanism-specific error
condition, further details of which are reported via the
<code>minor_status</code> parameter.

<h4 class="subsection">3.4.2 Mechanism-specific status codes</h4>

<p>GSS-API routines return a minor_status parameter, which is used to
indicate specialized errors from the underlying security mechanism. 
This parameter may contain a single mechanism-specific error,
indicated by a <code>OM_uint32</code> value.

   <p>The minor_status parameter will always be set by a GSS-API routine,
even if it returns a calling error or one of the generic API errors
indicated above as fatal, although most other output parameters may
remain unset in such cases.  However, output parameters that are
expected to return pointers to storage allocated by a routine must
always be set by the routine, even in the event of an error, although
in such cases the GSS-API routine may elect to set the returned
parameter value to NULL to indicate that no storage was actually
allocated.  Any length field associated with such pointers (as in a
<code>gss_buffer_desc</code> structure) should also be set to zero in such cases.

<div class="node">
<a name="Credential-Management"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Context_002dLevel-Routines">Context-Level Routines</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Error-Handling">Error Handling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.5 Credential Management</h3>

<pre class="verbatim">   GSS-API Credential-management Routines

   Routine                         Function
   -------                         --------
   gss_acquire_cred                Assume a global identity; Obtain
                                   a GSS-API credential handle for
                                   pre-existing credentials.
   gss_add_cred                    Construct credentials
                                   incrementally.
   gss_inquire_cred                Obtain information about a
                                   credential.
   gss_inquire_cred_by_mech        Obtain per-mechanism information
                                   about a credential.
   gss_release_cred                Discard a credential handle.
</pre>

<h4 class="subheading">gss_acquire_cred</h4>

<p><a name="gss_005facquire_005fcred"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_acquire_cred</b> (<var>OM_uint32 * minor_status, const gss_name_t desired_name, OM_uint32 time_req, const gss_OID_set desired_mechs, gss_cred_usage_t cred_usage, gss_cred_id_t * output_cred_handle, gss_OID_set * actual_mechs, OM_uint32 * time_rec</var>)<var><a name="index-gss_005facquire_005fcred-40"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>desired_name</var>: (gss_name_t, read) Name of principal whose
credential should be acquired.

        <p><var>time_req</var>: (Integer, read, optional) Number of seconds that
credentials should remain valid. Specify GSS_C_INDEFINITE to
request that the credentials have the maximum permitted lifetime.

        <p><var>desired_mechs</var>: (Set of Object IDs, read, optional) Set of
underlying security mechanisms that may be used. 
GSS_C_NO_OID_SET may be used to obtain an implementation-specific
default.

        <p><var>cred_usage</var>: (gss_cred_usage_t, read) GSS_C_BOTH - Credentials may
be used either to initiate or accept security contexts. 
GSS_C_INITIATE - Credentials will only be used to initiate
security contexts.  GSS_C_ACCEPT - Credentials will only be used
to accept security contexts.

        <p><var>output_cred_handle</var>: (gss_cred_id_t, modify) The returned
credential handle.  Resources associated with this credential
handle must be released by the application after use with a call
to gss_release_cred().

        <p><var>actual_mechs</var>: (Set of Object IDs, modify, optional) The set of
mechanisms for which the credential is valid.  Storage associated
with the returned OID-set must be released by the application
after use with a call to gss_release_oid_set().  Specify NULL if
not required.

        <p><var>time_rec</var>: (Integer, modify, optional) Actual number of seconds for
which the returned credentials will remain valid.  If the
implementation does not support expiration of credentials, the
value GSS_C_INDEFINITE will be returned. Specify NULL if not
required.

        <p>Allows an application to acquire a handle for a pre-existing
credential by name.  GSS-API implementations must impose a local
access-control policy on callers of this routine to prevent
unauthorized callers from acquiring credentials to which they are
not entitled.  This routine is not intended to provide a "login to
the network" function, as such a function would involve the
creation of new credentials rather than merely acquiring a handle
to existing credentials.  Such functions, if required, should be
defined in implementation-specific extensions to the API.

        <p>If desired_name is GSS_C_NO_NAME, the call is interpreted as a
request for a credential handle that will invoke default behavior
when passed to gss_init_sec_context() (if cred_usage is
GSS_C_INITIATE or GSS_C_BOTH) or gss_accept_sec_context() (if
cred_usage is GSS_C_ACCEPT or GSS_C_BOTH).

        <p>Mechanisms should honor the desired_mechs parameter, and return a
credential that is suitable to use only with the requested
mechanisms.  An exception to this is the case where one underlying
credential element can be shared by multiple mechanisms; in this
case it is permissible for an implementation to indicate all
mechanisms with which the credential element may be used.  If
desired_mechs is an empty set, behavior is undefined.

        <p>This routine is expected to be used primarily by context acceptors,
since implementations are likely to provide mechanism-specific ways
of obtaining GSS-API initiator credentials from the system login
process.  Some implementations may therefore not support the
acquisition of GSS_C_INITIATE or GSS_C_BOTH credentials via
gss_acquire_cred for any name other than GSS_C_NO_NAME, or a name
produced by applying either gss_inquire_cred to a valid credential,
or gss_inquire_context to an active context.

        <p>If credential acquisition is time-consuming for a mechanism, the
mechanism may choose to delay the actual acquisition until the
credential is required (e.g. by gss_init_sec_context or
gss_accept_sec_context).  Such mechanism-specific implementation
decisions should be invisible to the calling application; thus a
call of gss_inquire_cred immediately following the call of
gss_acquire_cred must return valid credential data, and may
therefore incur the overhead of a deferred credential acquisition.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_MECH</code>: Unavailable mechanism requested.

        <p><code>GSS_S_BAD_NAMETYPE</code>: Type contained within desired_name parameter
is not supported.

        <p><code>GSS_S_BAD_NAME</code>: Value supplied for desired_name parameter is ill
formed.

        <p><code>GSS_S_CREDENTIALS_EXPIRED</code>: The credentials could not be acquired
Because they have expired.

        <p><code>GSS_S_NO_CRED</code>: No credentials were found for the specified name. 
</p></blockquote></div>

<h4 class="subheading">gss_add_cred</h4>

<p><a name="gss_005fadd_005fcred"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_add_cred</b> (<var>OM_uint32 * minor_status, const gss_cred_id_t input_cred_handle, const gss_name_t desired_name, const gss_OID desired_mech, gss_cred_usage_t cred_usage, OM_uint32 initiator_time_req, OM_uint32 acceptor_time_req, gss_cred_id_t * output_cred_handle, gss_OID_set * actual_mechs, OM_uint32 * initiator_time_rec, OM_uint32 * acceptor_time_rec</var>)<var><a name="index-gss_005fadd_005fcred-41"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>input_cred_handle</var>: (gss_cred_id_t, read, optional) The credential
to which a credential-element will be added.  If
GSS_C_NO_CREDENTIAL is specified, the routine will compose the
new credential based on default behavior (see text). 
Note that, while the credential-handle is not modified by
gss_add_cred(), the underlying credential will be modified if
output_credential_handle is NULL.

        <p><var>desired_name</var>: (gss_name_t, read.)  Name of principal whose
credential should be acquired.

        <p><var>desired_mech</var>: (Object ID, read) Underlying security mechanism with
which the credential may be used.

        <p><var>cred_usage</var>: (gss_cred_usage_t, read) GSS_C_BOTH - Credential may
be used either to initiate or accept security contexts. 
GSS_C_INITIATE - Credential will only be used to initiate
security contexts.  GSS_C_ACCEPT - Credential will only be used
to accept security contexts.

        <p><var>initiator_time_req</var>: (Integer, read, optional) number of seconds
that the credential should remain valid for initiating security
contexts.  This argument is ignored if the composed credentials
are of type GSS_C_ACCEPT.  Specify GSS_C_INDEFINITE to request
that the credentials have the maximum permitted initiator
lifetime.

        <p><var>acceptor_time_req</var>: (Integer, read, optional) number of seconds
that the credential should remain valid for accepting security
contexts.  This argument is ignored if the composed credentials
are of type GSS_C_INITIATE.  Specify GSS_C_INDEFINITE to request
that the credentials have the maximum permitted initiator
lifetime.

        <p><var>output_cred_handle</var>: (gss_cred_id_t, modify, optional) The returned
credential handle, containing the new credential-element and all
the credential-elements from input_cred_handle.  If a valid
pointer to a gss_cred_id_t is supplied for this parameter,
gss_add_cred creates a new credential handle containing all
credential-elements from the input_cred_handle and the newly
acquired credential-element; if NULL is specified for this
parameter, the newly acquired credential-element will be added to
the credential identified by input_cred_handle.  The resources
associated with any credential handle returned via this parameter
must be released by the application after use with a call to
gss_release_cred().

        <p><var>actual_mechs</var>: (Set of Object IDs, modify, optional) The complete
set of mechanisms for which the new credential is valid.  Storage
for the returned OID-set must be freed by the application after
use with a call to gss_release_oid_set(). Specify NULL if not
required.

        <p><var>initiator_time_rec</var>: (Integer, modify, optional) Actual number of
seconds for which the returned credentials will remain valid for
initiating contexts using the specified mechanism.  If the
implementation or mechanism does not support expiration of
credentials, the value GSS_C_INDEFINITE will be returned. Specify
NULL if not required

        <p><var>acceptor_time_rec</var>: (Integer, modify, optional) Actual number of
seconds for which the returned credentials will remain valid for
accepting security contexts using the specified mechanism.  If
the implementation or mechanism does not support expiration of
credentials, the value GSS_C_INDEFINITE will be returned. Specify
NULL if not required

        <p>Adds a credential-element to a credential.  The credential-element is
identified by the name of the principal to which it refers.  GSS-API
implementations must impose a local access-control policy on callers
of this routine to prevent unauthorized callers from acquiring
credential-elements to which they are not entitled. This routine is
not intended to provide a "login to the network" function, as such a
function would involve the creation of new mechanism-specific
authentication data, rather than merely acquiring a GSS-API handle to
existing data.  Such functions, if required, should be defined in
implementation-specific extensions to the API.

        <p>If desired_name is GSS_C_NO_NAME, the call is interpreted as a
request to add a credential element that will invoke default behavior
when passed to gss_init_sec_context() (if cred_usage is
GSS_C_INITIATE or GSS_C_BOTH) or gss_accept_sec_context() (if
cred_usage is GSS_C_ACCEPT or GSS_C_BOTH).

        <p>This routine is expected to be used primarily by context acceptors,
since implementations are likely to provide mechanism-specific ways
of obtaining GSS-API initiator credentials from the system login
process.  Some implementations may therefore not support the
acquisition of GSS_C_INITIATE or GSS_C_BOTH credentials via
gss_acquire_cred for any name other than GSS_C_NO_NAME, or a name
produced by applying either gss_inquire_cred to a valid credential,
or gss_inquire_context to an active context.

        <p>If credential acquisition is time-consuming for a mechanism, the
mechanism may choose to delay the actual acquisition until the
credential is required (e.g. by gss_init_sec_context or
gss_accept_sec_context).  Such mechanism-specific implementation
decisions should be invisible to the calling application; thus a call
of gss_inquire_cred immediately following the call of gss_add_cred
must return valid credential data, and may therefore incur the
overhead of a deferred credential acquisition.

        <p>This routine can be used to either compose a new credential
containing all credential-elements of the original in addition to the
newly-acquire credential-element, or to add the new credential-
element to an existing credential. If NULL is specified for the
output_cred_handle parameter argument, the new credential-element
will be added to the credential identified by input_cred_handle; if a
valid pointer is specified for the output_cred_handle parameter, a
new credential handle will be created.

        <p>If GSS_C_NO_CREDENTIAL is specified as the input_cred_handle,
gss_add_cred will compose a credential (and set the
output_cred_handle parameter accordingly) based on default behavior. 
That is, the call will have the same effect as if the application had
first made a call to gss_acquire_cred(), specifying the same usage
and passing GSS_C_NO_NAME as the desired_name parameter to obtain an
explicit credential handle embodying default behavior, passed this
credential handle to gss_add_cred(), and finally called
gss_release_cred() on the first credential handle.

        <p>If GSS_C_NO_CREDENTIAL is specified as the input_cred_handle
parameter, a non-NULL output_cred_handle must be supplied.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_MECH</code>: Unavailable mechanism requested.

        <p><code>GSS_S_BAD_NAMETYPE</code>: Type contained within desired_name parameter
is not supported.

        <p><code>GSS_S_BAD_NAME</code>: Value supplied for desired_name parameter is
ill-formed.

        <p><code>GSS_S_DUPLICATE_ELEMENT</code>: The credential already contains an
element for the requested mechanism with overlapping usage and
validity period.

        <p><code>GSS_S_CREDENTIALS_EXPIRED</code>: The required credentials could not be
added because they have expired.

        <p><code>GSS_S_NO_CRED</code>: No credentials were found for the specified name. 
</p></blockquote></div>

<h4 class="subheading">gss_inquire_cred</h4>

<p><a name="gss_005finquire_005fcred"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_inquire_cred</b> (<var>OM_uint32 * minor_status, const gss_cred_id_t cred_handle, gss_name_t * name, OM_uint32 * lifetime, gss_cred_usage_t * cred_usage, gss_OID_set * mechanisms</var>)<var><a name="index-gss_005finquire_005fcred-42"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>cred_handle</var>: (gss_cred_id_t, read) A handle that refers to the
target credential.  Specify GSS_C_NO_CREDENTIAL to inquire about
the default initiator principal.

        <p><var>name</var>: (gss_name_t, modify, optional) The name whose identity the
credential asserts.  Storage associated with this name should be
freed by the application after use with a call to
gss_release_name().  Specify NULL if not required.

        <p><var>lifetime</var>: (Integer, modify, optional) The number of seconds for
which the credential will remain valid.  If the credential has
expired, this parameter will be set to zero.  If the
implementation does not support credential expiration, the value
GSS_C_INDEFINITE will be returned.  Specify NULL if not required.

        <p><var>cred_usage</var>: (gss_cred_usage_t, modify, optional) How the
credential may be used.  One of the following: GSS_C_INITIATE,
GSS_C_ACCEPT, GSS_C_BOTH. Specify NULL if not required.

        <p><var>mechanisms</var>: (gss_OID_set, modify, optional) Set of mechanisms
supported by the credential.  Storage associated with this OID
set must be freed by the application after use with a call to
gss_release_oid_set().  Specify NULL if not required.

        <p>Obtains information about a credential.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_NO_CRED</code>: The referenced credentials could not be accessed.

        <p><code>GSS_S_DEFECTIVE_CREDENTIAL</code>: The referenced credentials were invalid.

        <p><code>GSS_S_CREDENTIALS_EXPIRED</code>: The referenced credentials have
expired.  If the lifetime parameter was not passed as NULL, it will
be set to 0. 
</p></blockquote></div>

<h4 class="subheading">gss_inquire_cred_by_mech</h4>

<p><a name="gss_005finquire_005fcred_005fby_005fmech"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_inquire_cred_by_mech</b> (<var>OM_uint32 * minor_status, const gss_cred_id_t cred_handle, const gss_OID mech_type, gss_name_t * name, OM_uint32 * initiator_lifetime, OM_uint32 * acceptor_lifetime, gss_cred_usage_t * cred_usage</var>)<var><a name="index-gss_005finquire_005fcred_005fby_005fmech-43"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>cred_handle</var>: (gss_cred_id_t, read) A handle that refers to the
target credential.  Specify GSS_C_NO_CREDENTIAL to inquire about
the default initiator principal.

        <p><var>mech_type</var>: (gss_OID, read) The mechanism for which information
should be returned.

        <p><var>name</var>: (gss_name_t, modify, optional) The name whose identity the
credential asserts.  Storage associated with this name must be
freed by the application after use with a call to
gss_release_name().  Specify NULL if not required.

        <p><var>initiator_lifetime</var>: (Integer, modify, optional) The number of
seconds for which the credential will remain capable of
initiating security contexts under the specified mechanism.  If
the credential can no longer be used to initiate contexts, or if
the credential usage for this mechanism is GSS_C_ACCEPT, this
parameter will be set to zero.  If the implementation does not
support expiration of initiator credentials, the value
GSS_C_INDEFINITE will be returned.  Specify NULL if not required.

        <p><var>acceptor_lifetime</var>: (Integer, modify, optional) The number of
seconds for which the credential will remain capable of accepting
security contexts under the specified mechanism.  If the
credential can no longer be used to accept contexts, or if the
credential usage for this mechanism is GSS_C_INITIATE, this
parameter will be set to zero.  If the implementation does not
support expiration of acceptor credentials, the value
GSS_C_INDEFINITE will be returned.  Specify NULL if not required.

        <p><var>cred_usage</var>: (gss_cred_usage_t, modify, optional) How the
credential may be used with the specified mechanism.  One of the
following: GSS_C_INITIATE, GSS_C_ACCEPT, GSS_C_BOTH. Specify NULL
if not required.

        <p>Obtains per-mechanism information about a credential.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_NO_CRED</code>: The referenced credentials could not be accessed.

        <p><code>GSS_S_DEFECTIVE_CREDENTIAL</code>: The referenced credentials were invalid.

        <p><code>GSS_S_CREDENTIALS_EXPIRED</code>: The referenced credentials have
expired.  If the lifetime parameter was not passed as NULL, it will
be set to 0. 
</p></blockquote></div>

<h4 class="subheading">gss_release_cred</h4>

<p><a name="gss_005frelease_005fcred"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_release_cred</b> (<var>OM_uint32 * minor_status, gss_cred_id_t * cred_handle</var>)<var><a name="index-gss_005frelease_005fcred-44"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>cred_handle</var>: (gss_cred_id_t, modify, optional) Opaque handle
identifying credential to be released.  If GSS_C_NO_CREDENTIAL is
supplied, the routine will complete successfully, but will do
nothing.

        <p>Informs GSS-API that the specified credential handle is no longer
required by the application, and frees associated resources.  The
cred_handle is set to GSS_C_NO_CREDENTIAL on successful completion
of this call.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_NO_CRED</code>: Credentials could not be accessed. 
</p></blockquote></div>

<div class="node">
<a name="Context-Level-Routines"></a>
<a name="Context_002dLevel-Routines"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Per_002dMessage-Routines">Per-Message Routines</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Credential-Management">Credential Management</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.6 Context-Level Routines</h3>

<pre class="verbatim">   GSS-API Context-Level Routines

   Routine                         Function
   -------                         --------
   gss_init_sec_context            Initiate a security context with
                                   a peer application.
   gss_accept_sec_context          Accept a security context
                                   initiated by a peer application.
   gss_delete_sec_context          Discard a security context.
   gss_process_context_token       Process a token on a security
                                   context from a peer application.
   gss_context_time                Determine for how long a context
                                   will remain valid.
   gss_inquire_context             Obtain information about a
                                   security context.
   gss_wrap_size_limit             Determine token-size limit for
                                   gss_wrap on a context.
   gss_export_sec_context          Transfer a security context to
                                   another process.
   gss_import_sec_context          Import a transferred context.
</pre>

<h4 class="subheading">gss_init_sec_context</h4>

<p><a name="gss_005finit_005fsec_005fcontext"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_init_sec_context</b> (<var>OM_uint32 * minor_status, const gss_cred_id_t initiator_cred_handle, gss_ctx_id_t * context_handle, const gss_name_t target_name, const gss_OID mech_type, OM_uint32 req_flags, OM_uint32 time_req, const gss_channel_bindings_t input_chan_bindings, const gss_buffer_t input_token, gss_OID * actual_mech_type, gss_buffer_t output_token, OM_uint32 * ret_flags, OM_uint32 * time_rec</var>)<var><a name="index-gss_005finit_005fsec_005fcontext-45"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>initiator_cred_handle</var>: (gss_cred_id_t, read, optional) Handle for
credentials claimed.  Supply GSS_C_NO_CREDENTIAL to act as a
default initiator principal.  If no default initiator is defined,
the function will return GSS_S_NO_CRED.

        <p><var>context_handle</var>: (gss_ctx_id_t, read/modify) Context handle for new
context.  Supply GSS_C_NO_CONTEXT for first call; use value
returned by first call in continuation calls.  Resources
associated with this context-handle must be released by the
application after use with a call to gss_delete_sec_context().

        <p><var>target_name</var>: (gss_name_t, read) Name of target.

        <p><var>mech_type</var>: (OID, read, optional) Object ID of desired
mechanism. Supply GSS_C_NO_OID to obtain an implementation
specific default.

        <p><var>req_flags</var>: (bit-mask, read) Contains various independent flags,
each of which requests that the context support a specific
service option.  Symbolic names are provided for each flag, and
the symbolic names corresponding to the required flags should be
logically-ORed together to form the bit-mask value.  See below
for the flags.

        <p><var>time_req</var>: (Integer, read, optional) Desired number of seconds for
which context should remain valid.  Supply 0 to request a default
validity period.

        <p><var>input_chan_bindings</var>: (channel bindings, read, optional)
Application-specified bindings.  Allows application to securely
bind channel identification information to the security context. 
Specify GSS_C_NO_CHANNEL_BINDINGS if channel bindings are not
used.

        <p><var>input_token</var>: (buffer, opaque, read, optional) Token received from
peer application.  Supply GSS_C_NO_BUFFER, or a pointer to a
buffer containing the value GSS_C_EMPTY_BUFFER on initial call.

        <p><var>actual_mech_type</var>: (OID, modify, optional) Actual mechanism used. 
The OID returned via this parameter will be a pointer to static
storage that should be treated as read-only; In particular the
application should not attempt to free it.  Specify NULL if not
required.

        <p><var>output_token</var>: (buffer, opaque, modify) Token to be sent to peer
application.  If the length field of the returned buffer is zero,
no token need be sent to the peer application.  Storage
associated with this buffer must be freed by the application
after use with a call to gss_release_buffer().

        <p><var>ret_flags</var>: (bit-mask, modify, optional) Contains various
independent flags, each of which indicates that the context
supports a specific service option.  Specify NULL if not
required.  Symbolic names are provided for each flag, and the
symbolic names corresponding to the required flags should be
logically-ANDed with the ret_flags value to test whether a given
option is supported by the context.  See below for the flags.

        <p><var>time_rec</var>: (Integer, modify, optional) Number of seconds for which
the context will remain valid. If the implementation does not
support context expiration, the value GSS_C_INDEFINITE will be
returned.  Specify NULL if not required.

        <p>Initiates the establishment of a security context between the
application and a remote peer.  Initially, the input_token
parameter should be specified either as GSS_C_NO_BUFFER, or as a
pointer to a gss_buffer_desc object whose length field contains the
value zero.  The routine may return a output_token which should be
transferred to the peer application, where the peer application
will present it to gss_accept_sec_context.  If no token need be
sent, gss_init_sec_context will indicate this by setting the length
field of the output_token argument to zero. To complete the context
establishment, one or more reply tokens may be required from the
peer application; if so, gss_init_sec_context will return a status
containing the supplementary information bit GSS_S_CONTINUE_NEEDED. 
In this case, gss_init_sec_context should be called again when the
reply token is received from the peer application, passing the
reply token to gss_init_sec_context via the input_token parameters.

        <p>Portable applications should be constructed to use the token length
and return status to determine whether a token needs to be sent or
waited for.  Thus a typical portable caller should always invoke
gss_init_sec_context within a loop:

     <pre class="example">          int context_established = 0;
          gss_ctx_id_t context_hdl = GSS_C_NO_CONTEXT;
                 ...
          input_token-&gt;length = 0;
          
          while (!context_established) {
            maj_stat = gss_init_sec_context(&amp;min_stat,
                                            cred_hdl,
                                            &amp;context_hdl,
                                            target_name,
                                            desired_mech,
                                            desired_services,
                                            desired_time,
                                            input_bindings,
                                            input_token,
                                            &amp;actual_mech,
                                            output_token,
                                            &amp;actual_services,
                                            &amp;actual_time);
            if (GSS_ERROR(maj_stat)) {
              report_error(maj_stat, min_stat);
            };
          
            if (output_token-&gt;length != 0) {
              send_token_to_peer(output_token);
              gss_release_buffer(&amp;min_stat, output_token)
            };
            if (GSS_ERROR(maj_stat)) {
          
              if (context_hdl != GSS_C_NO_CONTEXT)
                gss_delete_sec_context(&amp;min_stat,
                                       &amp;context_hdl,
                                       GSS_C_NO_BUFFER);
              break;
            };
          
            if (maj_stat &amp; GSS_S_CONTINUE_NEEDED) {
              receive_token_from_peer(input_token);
            } else {
              context_established = 1;
            };
          };
</pre>
        <p>Whenever the routine returns a major status that includes the value
GSS_S_CONTINUE_NEEDED, the context is not fully established and the
following restrictions apply to the output parameters:

          <ul>
<li>The value returned via the time_rec parameter is undefined unless
the accompanying ret_flags parameter contains the bit
GSS_C_PROT_READY_FLAG, indicating that per-message services may be
applied in advance of a successful completion status, the value
returned via the actual_mech_type parameter is undefined until the
routine returns a major status value of GSS_S_COMPLETE.

          <li>The values of the GSS_C_DELEG_FLAG, GSS_C_MUTUAL_FLAG,
GSS_C_REPLAY_FLAG, GSS_C_SEQUENCE_FLAG, GSS_C_CONF_FLAG,
GSS_C_INTEG_FLAG and GSS_C_ANON_FLAG bits returned via the
ret_flags parameter should contain the values that the
implementation expects would be valid if context establishment were
to succeed.  In particular, if the application has requested a
service such as delegation or anonymous authentication via the
req_flags argument, and such a service is unavailable from the
underlying mechanism, gss_init_sec_context should generate a token
that will not provide the service, and indicate via the ret_flags
argument that the service will not be supported.  The application
may choose to abort the context establishment by calling
gss_delete_sec_context (if it cannot continue in the absence of the
service), or it may choose to transmit the token and continue
context establishment (if the service was merely desired but not
mandatory).

          <li>The values of the GSS_C_PROT_READY_FLAG and GSS_C_TRANS_FLAG bits
within ret_flags should indicate the actual state at the time
gss_init_sec_context returns, whether or not the context is fully
established.

          <li>GSS-API implementations that support per-message protection are
encouraged to set the GSS_C_PROT_READY_FLAG in the final ret_flags
returned to a caller (i.e. when accompanied by a GSS_S_COMPLETE
status code).  However, applications should not rely on this
behavior as the flag was not defined in Version 1 of the GSS-API. 
Instead, applications should determine what per-message services
are available after a successful context establishment according to
the GSS_C_INTEG_FLAG and GSS_C_CONF_FLAG values.

          <li>All other bits within the ret_flags argument should be set to
zero.

        </ul>

        <p>If the initial call of gss_init_sec_context() fails, the
implementation should not create a context object, and should leave
the value of the context_handle parameter set to GSS_C_NO_CONTEXT
to indicate this.  In the event of a failure on a subsequent call,
the implementation is permitted to delete the "half-built" security
context (in which case it should set the context_handle parameter
to GSS_C_NO_CONTEXT), but the preferred behavior is to leave the
security context untouched for the application to delete (using
gss_delete_sec_context).

        <p>During context establishment, the informational status bits
GSS_S_OLD_TOKEN and GSS_S_DUPLICATE_TOKEN indicate fatal errors,
and GSS-API mechanisms should always return them in association
with a routine error of GSS_S_FAILURE.  This requirement for
pairing did not exist in version 1 of the GSS-API specification, so
applications that wish to run over version 1 implementations must
special-case these codes.

        <p>The <code>req_flags</code> values:

          <dl>
<dt><dd><code>GSS_C_DELEG_FLAG</code>

               <ul>
<li>True - Delegate credentials to remote peer.

               <li>False - Don't delegate.

          </ul>
          <br><dt><dd><code>GSS_C_MUTUAL_FLAG</code>

               <ul>
<li>True - Request that remote peer authenticate itself.

               <li>False - Authenticate self to remote peer only.

          </ul>
          <br><dt><dd><code>GSS_C_REPLAY_FLAG</code>

               <ul>
<li>True - Enable replay detection for messages protected with
gss_wrap or gss_get_mic.

               <li>False - Don't attempt to detect replayed messages.

          </ul>
          <br><dt><dd><code>GSS_C_SEQUENCE_FLAG</code>

               <ul>
<li>True - Enable detection of out-of-sequence protected messages.

               <li>False - Don't attempt to detect out-of-sequence messages.

          </ul>
          <br><dt><dd><code>GSS_C_CONF_FLAG</code>

               <ul>
<li>True - Request that confidentiality service be made available
(via gss_wrap).

               <li>False - No per-message confidentiality service is required.

          </ul>
          <br><dt><dd><code>GSS_C_INTEG_FLAG</code>

               <ul>
<li>True - Request that integrity service be made available (via
gss_wrap or gss_get_mic).

               <li>False - No per-message integrity service is required.

          </ul>
          <br><dt><dd><code>GSS_C_ANON_FLAG</code>

               <ul>
<li>True - Do not reveal the initiator's identity to the acceptor.

               <li>False - Authenticate normally.

          </ul>
          </dl>

        <p>The <code>ret_flags</code> values:

          <dl>
<dt><dd><code>GSS_C_DELEG_FLAG</code>

               <ul>
<li>True - Credentials were delegated to the remote peer.

               <li>False - No credentials were delegated.

          </ul>
          <br><dt><dd><code>GSS_C_MUTUAL_FLAG</code>

               <ul>
<li>True - The remote peer has authenticated itself.

               <li>False - Remote peer has not authenticated itself.

          </ul>
          <br><dt><dd><code>GSS_C_REPLAY_FLAG</code>

               <ul>
<li>True - replay of protected messages will be detected.

               <li>False - replayed messages will not be detected.

          </ul>
          <br><dt><dd><code>GSS_C_SEQUENCE_FLAG</code>

               <ul>
<li>True - out-of-sequence protected messages will be detected.

               <li>False - out-of-sequence messages will not be detected.

          </ul>
          <br><dt><dd><code>GSS_C_CONF_FLAG</code>

               <ul>
<li>True - Confidentiality service may be invoked by calling gss_wrap
routine.

               <li>False - No confidentiality service (via gss_wrap)
available. gss_wrap will provide message encapsulation, data-origin
authentication and integrity services only.

          </ul>
          <br><dt><dd><code>GSS_C_INTEG_FLAG</code>

               <ul>
<li>True - Integrity service may be invoked by calling either
gss_get_mic or gss_wrap routines.

               <li>False - Per-message integrity service unavailable.

          </ul>
          <br><dt><dd><code>GSS_C_ANON_FLAG</code>

               <ul>
<li>True - The initiator's identity has not been revealed, and will
not be revealed if any emitted token is passed to the acceptor.

               <li>False - The initiator's identity has been or will be
authenticated normally.

          </ul>
          <br><dt><dd><code>GSS_C_PROT_READY_FLAG</code>

               <ul>
<li>True - Protection services (as specified by the states of the
GSS_C_CONF_FLAG and GSS_C_INTEG_FLAG) are available for use if the
accompanying major status return value is either GSS_S_COMPLETE or
GSS_S_CONTINUE_NEEDED.

               <li>False - Protection services (as specified by the states of the
GSS_C_CONF_FLAG and GSS_C_INTEG_FLAG) are available only if the
accompanying major status return value is GSS_S_COMPLETE.

          </ul>
          <br><dt><dd><code>GSS_C_TRANS_FLAG</code>

               <ul>
<li>True - The resultant security context may be transferred to other
processes via a call to gss_export_sec_context().

               <li>False - The security context is not transferable.

          </ul>
          </dl>

        <p>All other bits should be set to zero.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_CONTINUE_NEEDED</code>: Indicates that a token from the peer
application is required to complete the context, and that
gss_init_sec_context must be called again with that token.

        <p><code>GSS_S_DEFECTIVE_TOKEN</code>: Indicates that consistency checks
performed on the input_token failed.

        <p><code>GSS_S_DEFECTIVE_CREDENTIAL</code>: Indicates that consistency checks
performed on the credential failed.

        <p><code>GSS_S_NO_CRED</code>: The supplied credentials were not valid for
context initiation, or the credential handle did not reference any
credentials.

        <p><code>GSS_S_CREDENTIALS_EXPIRED</code>: The referenced credentials have
expired.

        <p><code>GSS_S_BAD_BINDINGS</code>: The input_token contains different channel
bindings to those specified via the input_chan_bindings parameter.

        <p><code>GSS_S_BAD_SIG</code>: The input_token contains an invalid MIC, or a MIC
that could not be verified.

        <p><code>GSS_S_OLD_TOKEN</code>: The input_token was too old.  This is a fatal
error during context establishment.

        <p><code>GSS_S_DUPLICATE_TOKEN</code>: The input_token is valid, but is a
duplicate of a token already processed.  This is a fatal error
during context establishment.

        <p><code>GSS_S_NO_CONTEXT</code>: Indicates that the supplied context handle did
not refer to a valid context.

        <p><code>GSS_S_BAD_NAMETYPE</code>: The provided target_name parameter contained
an invalid or unsupported type of name.

        <p><code>GSS_S_BAD_NAME</code>: The provided target_name parameter was
ill-formed.

        <p><code>GSS_S_BAD_MECH</code>: The specified mechanism is not supported by the
provided credential, or is unrecognized by the implementation. 
</p></blockquote></div>

<h4 class="subheading">gss_accept_sec_context</h4>

<p><a name="gss_005faccept_005fsec_005fcontext"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_accept_sec_context</b> (<var>OM_uint32 * minor_status, gss_ctx_id_t * context_handle, const gss_cred_id_t acceptor_cred_handle, const gss_buffer_t input_token_buffer, const gss_channel_bindings_t input_chan_bindings, gss_name_t * src_name, gss_OID * mech_type, gss_buffer_t output_token, OM_uint32 * ret_flags, OM_uint32 * time_rec, gss_cred_id_t * delegated_cred_handle</var>)<var><a name="index-gss_005faccept_005fsec_005fcontext-46"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read/modify) Context handle for new
context.  Supply GSS_C_NO_CONTEXT for first call; use value
returned in subsequent calls.  Once gss_accept_sec_context() has
returned a value via this parameter, resources have been assigned
to the corresponding context, and must be freed by the
application after use with a call to gss_delete_sec_context().

        <p><var>acceptor_cred_handle</var>: (gss_cred_id_t, read) Credential handle
claimed by context acceptor. Specify GSS_C_NO_CREDENTIAL to
accept the context as a default principal.  If
GSS_C_NO_CREDENTIAL is specified, but no default acceptor
principal is defined, GSS_S_NO_CRED will be returned.

        <p><var>input_token_buffer</var>: (buffer, opaque, read) Token obtained from
remote application.

        <p><var>input_chan_bindings</var>: (channel bindings, read, optional)
Application- specified bindings.  Allows application to securely
bind channel identification information to the security context. 
If channel bindings are not used, specify
GSS_C_NO_CHANNEL_BINDINGS.

        <p><var>src_name</var>: (gss_name_t, modify, optional) Authenticated name of
context initiator.  After use, this name should be deallocated by
passing it to gss_release_name().  If not required, specify NULL.

        <p><var>mech_type</var>: (Object ID, modify, optional) Security mechanism used. 
The returned OID value will be a pointer into static storage, and
should be treated as read-only by the caller (in particular, it
does not need to be freed).  If not required, specify NULL.

        <p><var>output_token</var>: (buffer, opaque, modify) Token to be passed to peer
application.  If the length field of the returned token buffer is
0, then no token need be passed to the peer application.  If a
non- zero length field is returned, the associated storage must
be freed after use by the application with a call to
gss_release_buffer().

        <p><var>ret_flags</var>: (bit-mask, modify, optional) Contains various
independent flags, each of which indicates that the context
supports a specific service option.  If not needed, specify NULL. 
Symbolic names are provided for each flag, and the symbolic names
corresponding to the required flags should be logically-ANDed
with the ret_flags value to test whether a given option is
supported by the context.  See below for the flags.

        <p><var>time_rec</var>: (Integer, modify, optional) Number of seconds for which
the context will remain valid. Specify NULL if not required.

        <p><var>delegated_cred_handle</var>: (gss_cred_id_t, modify, optional
credential) Handle for credentials received from context
initiator.  Only valid if deleg_flag in ret_flags is true, in
which case an explicit credential handle (i.e. not
GSS_C_NO_CREDENTIAL) will be returned; if deleg_flag is false,
gss_accept_sec_context() will set this parameter to
GSS_C_NO_CREDENTIAL.  If a credential handle is returned, the
associated resources must be released by the application after
use with a call to gss_release_cred().  Specify NULL if not
required.

        <p>Allows a remotely initiated security context between the
application and a remote peer to be established.  The routine may
return a output_token which should be transferred to the peer
application, where the peer application will present it to
gss_init_sec_context.  If no token need be sent,
gss_accept_sec_context will indicate this by setting the length
field of the output_token argument to zero.  To complete the
context establishment, one or more reply tokens may be required
from the peer application; if so, gss_accept_sec_context will
return a status flag of GSS_S_CONTINUE_NEEDED, in which case it
should be called again when the reply token is received from the
peer application, passing the token to gss_accept_sec_context via
the input_token parameters.

        <p>Portable applications should be constructed to use the token length
and return status to determine whether a token needs to be sent or
waited for.  Thus a typical portable caller should always invoke
gss_accept_sec_context within a loop:

     <pre class="example">          gss_ctx_id_t context_hdl = GSS_C_NO_CONTEXT;
          
          do {
            receive_token_from_peer(input_token);
            maj_stat = gss_accept_sec_context(&amp;min_stat,
                                              &amp;context_hdl,
                                              cred_hdl,
                                              input_token,
                                              input_bindings,
                                              &amp;client_name,
                                              &amp;mech_type,
                                              output_token,
                                              &amp;ret_flags,
                                              &amp;time_rec,
                                              &amp;deleg_cred);
            if (GSS_ERROR(maj_stat)) {
              report_error(maj_stat, min_stat);
            };
            if (output_token-&gt;length != 0) {
              send_token_to_peer(output_token);
          
              gss_release_buffer(&amp;min_stat, output_token);
            };
            if (GSS_ERROR(maj_stat)) {
              if (context_hdl != GSS_C_NO_CONTEXT)
                gss_delete_sec_context(&amp;min_stat,
                                       &amp;context_hdl,
                                       GSS_C_NO_BUFFER);
              break;
            };
          } while (maj_stat &amp; GSS_S_CONTINUE_NEEDED);
</pre>
        <p>Whenever the routine returns a major status that includes the value
GSS_S_CONTINUE_NEEDED, the context is not fully established and the
following restrictions apply to the output parameters:

        <p>The value returned via the time_rec parameter is undefined Unless the
accompanying ret_flags parameter contains the bit
GSS_C_PROT_READY_FLAG, indicating that per-message services may be
applied in advance of a successful completion status, the value
returned via the mech_type parameter may be undefined until the
routine returns a major status value of GSS_S_COMPLETE.

        <p>The values of the GSS_C_DELEG_FLAG,
GSS_C_MUTUAL_FLAG,GSS_C_REPLAY_FLAG, GSS_C_SEQUENCE_FLAG,
GSS_C_CONF_FLAG,GSS_C_INTEG_FLAG and GSS_C_ANON_FLAG bits returned
via the ret_flags parameter should contain the values that the
implementation expects would be valid if context establishment were
to succeed.

        <p>The values of the GSS_C_PROT_READY_FLAG and GSS_C_TRANS_FLAG bits
within ret_flags should indicate the actual state at the time
gss_accept_sec_context returns, whether or not the context is fully
established.

        <p>Although this requires that GSS-API implementations set the
GSS_C_PROT_READY_FLAG in the final ret_flags returned to a caller
(i.e. when accompanied by a GSS_S_COMPLETE status code), applications
should not rely on this behavior as the flag was not defined in
Version 1 of the GSS-API. Instead, applications should be prepared to
use per-message services after a successful context establishment,
according to the GSS_C_INTEG_FLAG and GSS_C_CONF_FLAG values.

        <p>All other bits within the ret_flags argument should be set to zero. 
While the routine returns GSS_S_CONTINUE_NEEDED, the values returned
via the ret_flags argument indicate the services that the
implementation expects to be available from the established context.

        <p>If the initial call of gss_accept_sec_context() fails, the
implementation should not create a context object, and should leave
the value of the context_handle parameter set to GSS_C_NO_CONTEXT to
indicate this.  In the event of a failure on a subsequent call, the
implementation is permitted to delete the "half-built" security
context (in which case it should set the context_handle parameter to
GSS_C_NO_CONTEXT), but the preferred behavior is to leave the
security context (and the context_handle parameter) untouched for the
application to delete (using gss_delete_sec_context).

        <p>During context establishment, the informational status bits
GSS_S_OLD_TOKEN and GSS_S_DUPLICATE_TOKEN indicate fatal errors, and
GSS-API mechanisms should always return them in association with a
routine error of GSS_S_FAILURE.  This requirement for pairing did not
exist in version 1 of the GSS-API specification, so applications that
wish to run over version 1 implementations must special-case these
codes.

        <p>The <code>ret_flags</code> values:

          <dl>
<dt><dd><code>GSS_C_DELEG_FLAG</code>

               <ul>
<li>True - Delegated credentials are available via the
delegated_cred_handle parameter.

               <li>False - No credentials were delegated.

          </ul>
          <br><dt><dd><code>GSS_C_MUTUAL_FLAG</code>

               <ul>
<li>True - Remote peer asked for mutual authentication.

               <li>False - Remote peer did not ask for mutual authentication.

          </ul>
          <br><dt><dd><code>GSS_C_REPLAY_FLAG</code>

               <ul>
<li>True - replay of protected messages will be detected.

               <li>False - replayed messages will not be detected.

          </ul>
          <br><dt><dd><code>GSS_C_SEQUENCE_FLAG</code>

               <ul>
<li>True - out-of-sequence protected messages will be detected.

               <li>False - out-of-sequence messages will not be detected.

          </ul>
          <br><dt><dd><code>GSS_C_CONF_FLAG</code>

               <ul>
<li>True - Confidentiality service may be invoked by calling the
gss_wrap routine.

               <li>False - No confidentiality service (via gss_wrap)
available. gss_wrap will provide message encapsulation, data-origin
authentication and integrity services only.

          </ul>
          <br><dt><dd><code>GSS_C_INTEG_FLAG</code>

               <ul>
<li>True - Integrity service may be invoked by calling either
gss_get_mic or gss_wrap routines.

               <li>False - Per-message integrity service unavailable.

          </ul>
          <br><dt><dd><code>GSS_C_ANON_FLAG</code>

               <ul>
<li>True - The initiator does not wish to be authenticated; the
src_name parameter (if requested) contains an anonymous internal
name.

               <li>False - The initiator has been authenticated normally.

          </ul>
          <br><dt><dd><code>GSS_C_PROT_READY_FLAG</code>

               <ul>
<li>True - Protection services (as specified by the states of the
GSS_C_CONF_FLAG and GSS_C_INTEG_FLAG) are available if the
accompanying major status return value is either GSS_S_COMPLETE or
GSS_S_CONTINUE_NEEDED.

               <li>False - Protection services (as specified by the states of the
GSS_C_CONF_FLAG and GSS_C_INTEG_FLAG) are available only if the
accompanying major status return value is GSS_S_COMPLETE.

          </ul>
          <br><dt><dd><code>GSS_C_TRANS_FLAG</code>

               <ul>
<li>True - The resultant security context may be transferred to other
processes via a call to gss_export_sec_context().

               <li>False - The security context is not transferable.

          </ul>
          </dl>

        <p>All other bits should be set to zero.

        <p>Return value:

        <p><code>GSS_S_CONTINUE_NEEDED</code>: Indicates that a token from the peer
application is required to complete the context, and that
gss_accept_sec_context must be called again with that token.

        <p><code>GSS_S_DEFECTIVE_TOKEN</code>: Indicates that consistency checks
performed on the input_token failed.

        <p><code>GSS_S_DEFECTIVE_CREDENTIAL</code>: Indicates that consistency checks
performed on the credential failed.

        <p><code>GSS_S_NO_CRED</code>: The supplied credentials were not valid for
context acceptance, or the credential handle did not reference any
credentials.

        <p><code>GSS_S_CREDENTIALS_EXPIRED</code>: The referenced credentials have
expired.

        <p><code>GSS_S_BAD_BINDINGS</code>: The input_token contains different channel
bindings to those specified via the input_chan_bindings parameter.

        <p><code>GSS_S_NO_CONTEXT</code>: Indicates that the supplied context handle did
not refer to a valid context.

        <p><code>GSS_S_BAD_SIG</code>: The input_token contains an invalid MIC.

        <p><code>GSS_S_OLD_TOKEN</code>: The input_token was too old.  This is a fatal
error during context establishment.

        <p><code>GSS_S_DUPLICATE_TOKEN</code>: The input_token is valid, but is a
duplicate of a token already processed.  This is a fatal error
during context establishment.

        <p><code>GSS_S_BAD_MECH</code>: The received token specified a mechanism that is
not supported by the implementation or the provided credential. 
</p></blockquote></div>

<h4 class="subheading">gss_delete_sec_context</h4>

<p><a name="gss_005fdelete_005fsec_005fcontext"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_delete_sec_context</b> (<var>OM_uint32 * minor_status, gss_ctx_id_t * context_handle, gss_buffer_t output_token</var>)<var><a name="index-gss_005fdelete_005fsec_005fcontext-47"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, modify) Context handle identifying
context to delete.  After deleting the context, the GSS-API will
set this context handle to GSS_C_NO_CONTEXT.

        <p><var>output_token</var>: (buffer, opaque, modify, optional) Token to be sent
to remote application to instruct it to also delete the context. 
It is recommended that applications specify GSS_C_NO_BUFFER for
this parameter, requesting local deletion only.  If a buffer
parameter is provided by the application, the mechanism may
return a token in it; mechanisms that implement only local
deletion should set the length field of this token to zero to
indicate to the application that no token is to be sent to the
peer.

        <p>Delete a security context.  gss_delete_sec_context will delete the
local data structures associated with the specified security
context, and may generate an output_token, which when passed to the
peer gss_process_context_token will instruct it to do likewise.  If
no token is required by the mechanism, the GSS-API should set the
length field of the output_token (if provided) to zero.  No further
security services may be obtained using the context specified by
context_handle.

        <p>In addition to deleting established security contexts,
gss_delete_sec_context must also be able to delete "half-built"
security contexts resulting from an incomplete sequence of
gss_init_sec_context()/gss_accept_sec_context() calls.

        <p>The output_token parameter is retained for compatibility with
version 1 of the GSS-API.  It is recommended that both peer
applications invoke gss_delete_sec_context passing the value
GSS_C_NO_BUFFER for the output_token parameter, indicating that no
token is required, and that gss_delete_sec_context should simply
delete local context data structures.  If the application does pass
a valid buffer to gss_delete_sec_context, mechanisms are encouraged
to return a zero-length token, indicating that no peer action is
necessary, and that no token should be transferred by the
application.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_NO_CONTEXT</code>: No valid context was supplied. 
</p></blockquote></div>

<h4 class="subheading">gss_process_context_token</h4>

<p><a name="gss_005fprocess_005fcontext_005ftoken"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_process_context_token</b> (<var>OM_uint32 * minor_status, const gss_ctx_id_t context_handle, const gss_buffer_t token_buffer</var>)<var><a name="index-gss_005fprocess_005fcontext_005ftoken-48"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Implementation specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read) Context handle of context on
which token is to be processed

        <p><var>token_buffer</var>: (buffer, opaque, read) Token to process.

        <p>Provides a way to pass an asynchronous token to the security
service.  Most context-level tokens are emitted and processed
synchronously by gss_init_sec_context and gss_accept_sec_context,
and the application is informed as to whether further tokens are
expected by the GSS_C_CONTINUE_NEEDED major status bit. 
Occasionally, a mechanism may need to emit a context-level token at
a point when the peer entity is not expecting a token.  For
example, the initiator's final call to gss_init_sec_context may
emit a token and return a status of GSS_S_COMPLETE, but the
acceptor's call to gss_accept_sec_context may fail.  The acceptor's
mechanism may wish to send a token containing an error indication
to the initiator, but the initiator is not expecting a token at
this point, believing that the context is fully established. 
Gss_process_context_token provides a way to pass such a token to
the mechanism at any time.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_DEFECTIVE_TOKEN</code>: Indicates that consistency checks
performed on the token failed.

        <p><code>GSS_S_NO_CONTEXT</code>: The context_handle did not refer to a valid
context. 
</p></blockquote></div>

<h4 class="subheading">gss_context_time</h4>

<p><a name="gss_005fcontext_005ftime"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_context_time</b> (<var>OM_uint32 * minor_status, const gss_ctx_id_t context_handle, OM_uint32 * time_rec</var>)<var><a name="index-gss_005fcontext_005ftime-49"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Implementation specific status
code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read) Identifies the context to be
interrogated.

        <p><var>time_rec</var>: (Integer, modify) Number of seconds that the context
will remain valid.  If the context has already expired, zero will
be returned.

        <p>Determines the number of seconds for which the specified context
will remain valid.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_CONTEXT_EXPIRED</code>: The context has already expired.

        <p><code>GSS_S_NO_CONTEXT</code>: The context_handle parameter did not identify a
valid context
</p></blockquote></div>

<h4 class="subheading">gss_inquire_context</h4>

<p><a name="gss_005finquire_005fcontext"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_inquire_context</b> (<var>OM_uint32 * minor_status, const gss_ctx_id_t context_handle, gss_name_t * src_name, gss_name_t * targ_name, OM_uint32 * lifetime_rec, gss_OID * mech_type, OM_uint32 * ctx_flags, int * locally_initiated, int * open</var>)<var><a name="index-gss_005finquire_005fcontext-50"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read) A handle that refers to the
security context.

        <p><var>src_name</var>: (gss_name_t, modify, optional) The name of the context
initiator.  If the context was established using anonymous
authentication, and if the application invoking
gss_inquire_context is the context acceptor, an anonymous name
will be returned.  Storage associated with this name must be
freed by the application after use with a call to
gss_release_name().  Specify NULL if not required.

        <p><var>targ_name</var>: (gss_name_t, modify, optional) The name of the context
acceptor.  Storage associated with this name must be freed by the
application after use with a call to gss_release_name().  If the
context acceptor did not authenticate itself, and if the
initiator did not specify a target name in its call to
gss_init_sec_context(), the value GSS_C_NO_NAME will be returned. 
Specify NULL if not required.

        <p><var>lifetime_rec</var>: (Integer, modify, optional) The number of seconds
for which the context will remain valid.  If the context has
expired, this parameter will be set to zero.  If the
implementation does not support context expiration, the value
GSS_C_INDEFINITE will be returned.  Specify NULL if not required.

        <p><var>mech_type</var>: (gss_OID, modify, optional) The security mechanism
providing the context.  The returned OID will be a pointer to
static storage that should be treated as read-only by the
application; in particular the application should not attempt to
free it.  Specify NULL if not required.

        <p><var>ctx_flags</var>: (bit-mask, modify, optional) Contains various
independent flags, each of which indicates that the context
supports (or is expected to support, if ctx_open is false) a
specific service option.  If not needed, specify NULL.  Symbolic
names are provided for each flag, and the symbolic names
corresponding to the required flags should be logically-ANDed
with the ret_flags value to test whether a given option is
supported by the context.  See below for the flags.

        <p><var>locally_initiated</var>: (Boolean, modify) Non-zero if the invoking
application is the context initiator.  Specify NULL if not
required.

        <p><var>open</var>: (Boolean, modify) Non-zero if the context is fully
established; Zero if a context-establishment token is expected
from the peer application.  Specify NULL if not required.

        <p>Obtains information about a security context.  The caller must
already have obtained a handle that refers to the context, although
the context need not be fully established.

        <p>The <code>ctx_flags</code> values:

          <dl>
<dt><dd><code>GSS_C_DELEG_FLAG</code>

               <ul>
<li>True - Credentials were delegated from the initiator to the
acceptor.

               <li>False - No credentials were delegated.

          </ul>
          <br><dt><dd><code>GSS_C_MUTUAL_FLAG</code>

               <ul>
<li>True - The acceptor was authenticated to the initiator.

               <li>False - The acceptor did not authenticate itself.

          </ul>
          <br><dt><dd><code>GSS_C_REPLAY_FLAG</code>

               <ul>
<li>True - replay of protected messages will be detected.

               <li>False - replayed messages will not be detected.

          </ul>
          <br><dt><dd><code>GSS_C_SEQUENCE_FLAG</code>

               <ul>
<li>True - out-of-sequence protected messages will be detected.

               <li>False - out-of-sequence messages will not be detected.

          </ul>
          <br><dt><dd><code>GSS_C_CONF_FLAG</code>

               <ul>
<li>True - Confidentiality service may be invoked by calling gss_wrap
routine.

               <li>False - No confidentiality service (via gss_wrap)
available. gss_wrap will provide message encapsulation, data-origin
authentication and integrity services only.

          </ul>
          <br><dt><dd><code>GSS_C_INTEG_FLAG</code>

               <ul>
<li>True - Integrity service may be invoked by calling either
gss_get_mic or gss_wrap routines.

               <li>False - Per-message integrity service unavailable.

          </ul>
          <br><dt><dd><code>GSS_C_ANON_FLAG</code>

               <ul>
<li>True - The initiator's identity will not be revealed to the
acceptor.  The src_name parameter (if requested) contains an
anonymous internal name.

               <li>False - The initiator has been authenticated normally.

          </ul>
          <br><dt><dd><code>GSS_C_PROT_READY_FLAG</code>

               <ul>
<li>True - Protection services (as specified by the states of the
GSS_C_CONF_FLAG and GSS_C_INTEG_FLAG) are available for use.

               <li>False - Protection services (as specified by the states of the
GSS_C_CONF_FLAG and GSS_C_INTEG_FLAG) are available only if the
context is fully established (i.e. if the open parameter is
non-zero).

          </ul>
          <br><dt><dd><code>GSS_C_TRANS_FLAG</code>

               <ul>
<li>True - The resultant security context may be transferred to other
processes via a call to gss_export_sec_context().

               <li>False - The security context is not transferable.

          </ul>
          </dl>
        Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_NO_CONTEXT</code>: The referenced context could not be accessed. 
</p></blockquote></div>

<h4 class="subheading">gss_wrap_size_limit</h4>

<p><a name="gss_005fwrap_005fsize_005flimit"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_wrap_size_limit</b> (<var>OM_uint32 * minor_status, const gss_ctx_id_t context_handle, int conf_req_flag, gss_qop_t qop_req, OM_uint32 req_output_size, OM_uint32 * max_input_size</var>)<var><a name="index-gss_005fwrap_005fsize_005flimit-51"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read) A handle that refers to the
security over which the messages will be sent.

        <p><var>conf_req_flag</var>: (Boolean, read) Indicates whether gss_wrap will be
asked to apply confidentiality protection in addition to
integrity protection.  See the routine description for gss_wrap
for more details.

        <p><var>qop_req</var>: (gss_qop_t, read) Indicates the level of protection that
gss_wrap will be asked to provide.  See the routine description
for gss_wrap for more details.

        <p><var>req_output_size</var>: (Integer, read) The desired maximum size for
tokens emitted by gss_wrap.

        <p><var>max_input_size</var>: (Integer, modify) The maximum input message size
that may be presented to gss_wrap in order to guarantee that the
emitted token shall be no larger than req_output_size bytes.

        <p>Allows an application to determine the maximum message size that,
if presented to gss_wrap with the same conf_req_flag and qop_req
parameters, will result in an output token containing no more than
req_output_size bytes.

        <p>This call is intended for use by applications that communicate over
protocols that impose a maximum message size.  It enables the
application to fragment messages prior to applying protection.

        <p>GSS-API implementations are recommended but not required to detect
invalid QOP values when gss_wrap_size_limit() is called. This
routine guarantees only a maximum message size, not the
availability of specific QOP values for message protection.

        <p>Successful completion of this call does not guarantee that gss_wrap
will be able to protect a message of length max_input_size bytes,
since this ability may depend on the availability of system
resources at the time that gss_wrap is called.  However, if the
implementation itself imposes an upper limit on the length of
messages that may be processed by gss_wrap, the implementation
should not return a value via max_input_bytes that is greater than
this length.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_NO_CONTEXT</code>: The referenced context could not be accessed.

        <p><code>GSS_S_CONTEXT_EXPIRED</code>: The context has expired.

        <p><code>GSS_S_BAD_QOP</code>: The specified QOP is not supported by the
mechanism. 
</p></blockquote></div>

<h4 class="subheading">gss_export_sec_context</h4>

<p><a name="gss_005fexport_005fsec_005fcontext"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_export_sec_context</b> (<var>OM_uint32 * minor_status, gss_ctx_id_t * context_handle, gss_buffer_t interprocess_token</var>)<var><a name="index-gss_005fexport_005fsec_005fcontext-52"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, modify) Context handle identifying
the context to transfer.

        <p><var>interprocess_token</var>: (buffer, opaque, modify) Token to be
transferred to target process.  Storage associated with this
token must be freed by the application after use with a call to
gss_release_buffer().

        <p>Provided to support the sharing of work between multiple processes. 
This routine will typically be used by the context-acceptor, in an
application where a single process receives incoming connection
requests and accepts security contexts over them, then passes the
established context to one or more other processes for message
exchange. gss_export_sec_context() deactivates the security context
for the calling process and creates an interprocess token which,
when passed to gss_import_sec_context in another process, will
re-activate the context in the second process. Only a single
instantiation of a given context may be active at any one time; a
subsequent attempt by a context exporter to access the exported
security context will fail.

        <p>The implementation may constrain the set of processes by which the
interprocess token may be imported, either as a function of local
security policy, or as a result of implementation decisions.  For
example, some implementations may constrain contexts to be passed
only between processes that run under the same account, or which
are part of the same process group.

        <p>The interprocess token may contain security-sensitive information
(for example cryptographic keys).  While mechanisms are encouraged
to either avoid placing such sensitive information within
interprocess tokens, or to encrypt the token before returning it to
the application, in a typical object-library GSS-API implementation
this may not be possible. Thus the application must take care to
protect the interprocess token, and ensure that any process to
which the token is transferred is trustworthy.

        <p>If creation of the interprocess token is successful, the
implementation shall deallocate all process-wide resources
associated with the security context, and set the context_handle to
GSS_C_NO_CONTEXT.  In the event of an error that makes it
impossible to complete the export of the security context, the
implementation must not return an interprocess token, and should
strive to leave the security context referenced by the
context_handle parameter untouched.  If this is impossible, it is
permissible for the implementation to delete the security context,
providing it also sets the context_handle parameter to
GSS_C_NO_CONTEXT.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_CONTEXT_EXPIRED</code>: The context has expired.

        <p><code>GSS_S_NO_CONTEXT</code>: The context was invalid.

        <p><code>GSS_S_UNAVAILABLE</code>: The operation is not supported. 
</p></blockquote></div>

<h4 class="subheading">gss_import_sec_context</h4>

<p><a name="gss_005fimport_005fsec_005fcontext"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_import_sec_context</b> (<var>OM_uint32 * minor_status, const gss_buffer_t interprocess_token, gss_ctx_id_t * context_handle</var>)<var><a name="index-gss_005fimport_005fsec_005fcontext-53"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>interprocess_token</var>: (buffer, opaque, modify) Token received from
exporting process

        <p><var>context_handle</var>: (gss_ctx_id_t, modify) Context handle of newly
reactivated context.  Resources associated with this context
handle must be released by the application after use with a call
to gss_delete_sec_context().

        <p>Allows a process to import a security context established by
another process.  A given interprocess token may be imported only
once.  See gss_export_sec_context.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_NO_CONTEXT</code>: The token did not contain a valid context
reference.

        <p><code>GSS_S_DEFECTIVE_TOKEN</code>: The token was invalid.

        <p><code>GSS_S_UNAVAILABLE</code>: The operation is unavailable.

        <p><code>GSS_S_UNAUTHORIZED</code>: Local policy prevents the import of this
 context by the current process. 
</p></blockquote></div>

<div class="node">
<a name="Per-Message-Routines"></a>
<a name="Per_002dMessage-Routines"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Name-Manipulation">Name Manipulation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Context_002dLevel-Routines">Context-Level Routines</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.7 Per-Message Routines</h3>

<pre class="verbatim">   GSS-API Per-message Routines

   Routine                         Function
   -------                         --------
   gss_get_mic                     Calculate a cryptographic message
                                   integrity code (MIC) for a
                                   message; integrity service.
   gss_verify_mic                  Check a MIC against a message;
                                   verify integrity of a received
                                   message.
   gss_wrap                        Attach a MIC to a message, and
                                   optionally encrypt the message
                                   content.
                                   confidentiality service
   gss_unwrap                      Verify a message with attached
                                   MIC, and decrypt message content
                                   if necessary.
</pre>

<h4 class="subheading">gss_get_mic</h4>

<p><a name="gss_005fget_005fmic"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_get_mic</b> (<var>OM_uint32 * minor_status, const gss_ctx_id_t context_handle, gss_qop_t qop_req, const gss_buffer_t message_buffer, gss_buffer_t message_token</var>)<var><a name="index-gss_005fget_005fmic-54"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read) Identifies the context on
which the message will be sent.

        <p><var>qop_req</var>: (gss_qop_t, read, optional) Specifies requested quality
of protection.  Callers are encouraged, on portability grounds,
to accept the default quality of protection offered by the chosen
mechanism, which may be requested by specifying GSS_C_QOP_DEFAULT
for this parameter.  If an unsupported protection strength is
requested, gss_get_mic will return a major_status of
GSS_S_BAD_QOP.

        <p><var>message_buffer</var>: (buffer, opaque, read) Message to be protected.

        <p><var>message_token</var>: (buffer, opaque, modify) Buffer to receive token.  The
application must free storage associated with this buffer after
use with a call to gss_release_buffer().

        <p>Generates a cryptographic MIC for the supplied message, and places
the MIC in a token for transfer to the peer application. The
qop_req parameter allows a choice between several cryptographic
algorithms, if supported by the chosen mechanism.

        <p>Since some application-level protocols may wish to use tokens
emitted by gss_wrap() to provide "secure framing", implementations
must support derivation of MICs from zero-length messages.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_CONTEXT_EXPIRED</code>: The context has already expired.

        <p><code>GSS_S_NO_CONTEXT</code>: The context_handle parameter did not identify a
valid context.

        <p><code>GSS_S_BAD_QOP</code>: The specified QOP is not supported by the
mechanism. 
</p></blockquote></div>

<h4 class="subheading">gss_verify_mic</h4>

<p><a name="gss_005fverify_005fmic"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_verify_mic</b> (<var>OM_uint32 * minor_status, const gss_ctx_id_t context_handle, const gss_buffer_t message_buffer, const gss_buffer_t token_buffer, gss_qop_t * qop_state</var>)<var><a name="index-gss_005fverify_005fmic-55"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read) Identifies the context on
which the message arrived.

        <p><var>message_buffer</var>: (buffer, opaque, read) Message to be verified.

        <p><var>token_buffer</var>: (buffer, opaque, read) Token associated with
message.

        <p><var>qop_state</var>: (gss_qop_t, modify, optional) Quality of protection
gained from MIC Specify NULL if not required.

        <p>Verifies that a cryptographic MIC, contained in the token
parameter, fits the supplied message.  The qop_state parameter
allows a message recipient to determine the strength of protection
that was applied to the message.

        <p>Since some application-level protocols may wish to use tokens
emitted by gss_wrap() to provide "secure framing", implementations
must support the calculation and verification of MICs over
zero-length messages.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_DEFECTIVE_TOKEN</code>: The token failed consistency checks.

        <p><code>GSS_S_BAD_SIG</code>: The MIC was incorrect.

        <p><code>GSS_S_DUPLICATE_TOKEN</code>: The token was valid, and contained a
correct MIC for the message, but it had already been processed.

        <p><code>GSS_S_OLD_TOKEN</code>: The token was valid, and contained a correct MIC
for the message, but it is too old to check for duplication.

        <p><code>GSS_S_UNSEQ_TOKEN</code>: The token was valid, and contained a correct
MIC for the message, but has been verified out of sequence; a later
token has already been received.

        <p><code>GSS_S_GAP_TOKEN</code>: The token was valid, and contained a correct MIC
for the message, but has been verified out of sequence; an earlier
expected token has not yet been received.

        <p><code>GSS_S_CONTEXT_EXPIRED</code>: The context has already expired.

        <p><code>GSS_S_NO_CONTEXT</code>: The context_handle parameter did not identify a
valid context. 
</p></blockquote></div>

<h4 class="subheading">gss_wrap</h4>

<p><a name="gss_005fwrap"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_wrap</b> (<var>OM_uint32 * minor_status, const gss_ctx_id_t context_handle, int conf_req_flag, gss_qop_t qop_req, const gss_buffer_t input_message_buffer, int * conf_state, gss_buffer_t output_message_buffer</var>)<var><a name="index-gss_005fwrap-56"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read) Identifies the context on
which the message will be sent.

        <p><var>conf_req_flag</var>: (boolean, read) Non-zero - Both confidentiality and
integrity services are requested. Zero - Only integrity service is
requested.

        <p><var>qop_req</var>: (gss_qop_t, read, optional) Specifies required quality of
protection.  A mechanism-specific default may be requested by
setting qop_req to GSS_C_QOP_DEFAULT.  If an unsupported
protection strength is requested, gss_wrap will return a
major_status of GSS_S_BAD_QOP.

        <p><var>input_message_buffer</var>: (buffer, opaque, read) Message to be
protected.

        <p><var>conf_state</var>: (boolean, modify, optional) Non-zero -
Confidentiality, data origin authentication and integrity
services have been applied. Zero - Integrity and data origin
services only has been applied.  Specify NULL if not required.

        <p><var>output_message_buffer</var>: (buffer, opaque, modify) Buffer to receive
protected message.  Storage associated with this message must be
freed by the application after use with a call to
gss_release_buffer().

        <p>Attaches a cryptographic MIC and optionally encrypts the specified
input_message.  The output_message contains both the MIC and the
message.  The qop_req parameter allows a choice between several
cryptographic algorithms, if supported by the chosen mechanism.

        <p>Since some application-level protocols may wish to use tokens
emitted by gss_wrap() to provide "secure framing", implementations
must support the wrapping of zero-length messages.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_CONTEXT_EXPIRED</code>: The context has already expired.

        <p><code>GSS_S_NO_CONTEXT</code>: The context_handle parameter did not identify a
 valid context.

        <p><code>GSS_S_BAD_QOP</code>: The specified QOP is not supported by the
mechanism. 
</p></blockquote></div>

<h4 class="subheading">gss_unwrap</h4>

<p><a name="gss_005funwrap"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_unwrap</b> (<var>OM_uint32 * minor_status, const gss_ctx_id_t context_handle, const gss_buffer_t input_message_buffer, gss_buffer_t output_message_buffer, int * conf_state, gss_qop_t * qop_state</var>)<var><a name="index-gss_005funwrap-57"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>context_handle</var>: (gss_ctx_id_t, read) Identifies the context on
which the message arrived.

        <p><var>input_message_buffer</var>: (buffer, opaque, read) Protected message.

        <p><var>output_message_buffer</var>: (buffer, opaque, modify) Buffer to receive
unwrapped message.  Storage associated with this buffer must be
freed by the application after use use with a call to
gss_release_buffer().

        <p><var>conf_state</var>: (boolean, modify, optional) Non-zero - Confidentiality
and integrity protection were used. Zero - Integrity service only
was used.  Specify NULL if not required.

        <p><var>qop_state</var>: (gss_qop_t, modify, optional) Quality of protection
provided.  Specify NULL if not required.

        <p>Converts a message previously protected by gss_wrap back to a
usable form, verifying the embedded MIC.  The conf_state parameter
indicates whether the message was encrypted; the qop_state
parameter indicates the strength of protection that was used to
provide the confidentiality and integrity services.

        <p>Since some application-level protocols may wish to use tokens
emitted by gss_wrap() to provide "secure framing", implementations
must support the wrapping and unwrapping of zero-length messages.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_DEFECTIVE_TOKEN</code>: The token failed consistency checks.

        <p><code>GSS_S_BAD_SIG</code>: The MIC was incorrect.

        <p><code>GSS_S_DUPLICATE_TOKEN</code>: The token was valid, and contained a
 correct MIC for the message, but it had already been processed.

        <p><code>GSS_S_OLD_TOKEN</code>: The token was valid, and contained a correct MIC
for the message, but it is too old to check for duplication.

        <p><code>GSS_S_UNSEQ_TOKEN</code>: The token was valid, and contained a correct
MIC for the message, but has been verified out of sequence; a later
token has already been received.

        <p><code>GSS_S_GAP_TOKEN</code>: The token was valid, and contained a correct MIC
for the message, but has been verified out of sequence; an earlier
expected token has not yet been received.

        <p><code>GSS_S_CONTEXT_EXPIRED</code>: The context has already expired.

        <p><code>GSS_S_NO_CONTEXT</code>: The context_handle parameter did not identify a
valid context. 
</p></blockquote></div>

<div class="node">
<a name="Name-Manipulation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Miscellaneous-Routines">Miscellaneous Routines</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Per_002dMessage-Routines">Per-Message Routines</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.8 Name Manipulation</h3>

<pre class="verbatim">   GSS-API Name manipulation Routines

   Routine                         Function
   -------                         --------
   gss_import_name                 Convert a contiguous string name
                                   to internal-form.
   gss_display_name                Convert internal-form name to
                                   text.
   gss_compare_name                Compare two internal-form names.
   gss_release_name                Discard an internal-form name.
   gss_inquire_names_for_mech      List the name-types supported by.
                                   the specified mechanism.
   gss_inquire_mechs_for_name      List mechanisms that support the
                                   specified name-type.
   gss_canonicalize_name           Convert an internal name to an MN.
   gss_export_name                 Convert an MN to export form.
   gss_duplicate_name              Create a copy of an internal name.
</pre>

<h4 class="subheading">gss_import_name</h4>

<p><a name="gss_005fimport_005fname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_import_name</b> (<var>OM_uint32 * minor_status, const gss_buffer_t input_name_buffer, const gss_OID input_name_type, gss_name_t * output_name</var>)<var><a name="index-gss_005fimport_005fname-58"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>input_name_buffer</var>: (buffer, octet-string, read) Buffer containing
contiguous string name to convert.

        <p><var>input_name_type</var>: (Object ID, read, optional) Object ID specifying
type of printable name.  Applications may specify either
GSS_C_NO_OID to use a mechanism-specific default printable
syntax, or an OID recognized by the GSS-API implementation to
name a specific namespace.

        <p><var>output_name</var>: (gss_name_t, modify) Returned name in internal form. 
Storage associated with this name must be freed by the
application after use with a call to gss_release_name().

        <p>Convert a contiguous string name to internal form.  In general, the
internal name returned (via the @output_name parameter) will not
be an MN; the exception to this is if the @input_name_type
indicates that the contiguous string provided via the
@input_name_buffer parameter is of type GSS_C_NT_EXPORT_NAME, in
which case the returned internal name will be an MN for the
mechanism that exported the name.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_NAMETYPE</code>: The input_name_type was unrecognized.

        <p><code>GSS_S_BAD_NAME</code>: The input_name parameter could not be interpreted
as a name of the specified type.

        <p><code>GSS_S_BAD_MECH</code>: The input name-type was GSS_C_NT_EXPORT_NAME, but
the mechanism contained within the input-name is not supported. 
</p></blockquote></div>

<h4 class="subheading">gss_display_name</h4>

<p><a name="gss_005fdisplay_005fname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_display_name</b> (<var>OM_uint32 * minor_status, const gss_name_t input_name, gss_buffer_t output_name_buffer, gss_OID * output_name_type</var>)<var><a name="index-gss_005fdisplay_005fname-59"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>input_name</var>: (gss_name_t, read) Name to be displayed.

        <p><var>output_name_buffer</var>: (buffer, character-string, modify) Buffer to
receive textual name string.  The application must free storage
associated with this name after use with a call to
gss_release_buffer().

        <p><var>output_name_type</var>: (Object ID, modify, optional) The type of the
returned name.  The returned gss_OID will be a pointer into
static storage, and should be treated as read-only by the caller
(in particular, the application should not attempt to free
it). Specify NULL if not required.

        <p>Allows an application to obtain a textual representation of an
opaque internal-form name for display purposes.  The syntax of a
printable name is defined by the GSS-API implementation.

        <p>If input_name denotes an anonymous principal, the implementation
should return the gss_OID value GSS_C_NT_ANONYMOUS as the
output_name_type, and a textual name that is syntactically distinct
from all valid supported printable names in output_name_buffer.

        <p>If input_name was created by a call to gss_import_name, specifying
GSS_C_NO_OID as the name-type, implementations that employ lazy
conversion between name types may return GSS_C_NO_OID via the
output_name_type parameter.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_NAME</code>: @input_name was ill-formed. 
</p></blockquote></div>

<h4 class="subheading">gss_compare_name</h4>

<p><a name="gss_005fcompare_005fname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_compare_name</b> (<var>OM_uint32 * minor_status, const gss_name_t name1, const gss_name_t name2, int * name_equal</var>)<var><a name="index-gss_005fcompare_005fname-60"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>name1</var>: (gss_name_t, read) Internal-form name.

        <p><var>name2</var>: (gss_name_t, read) Internal-form name.

        <p><var>name_equal</var>: (boolean, modify) Non-zero - names refer to same
entity. Zero - names refer to different entities (strictly, the
names are not known to refer to the same identity).

        <p>Allows an application to compare two internal-form names to
determine whether they refer to the same entity.

        <p>If either name presented to gss_compare_name denotes an anonymous
principal, the routines should indicate that the two names do not
refer to the same identity.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_NAMETYPE</code>: The two names were of incomparable types.

        <p><code>GSS_S_BAD_NAME</code>: One or both of name1 or name2 was ill-formed. 
</p></blockquote></div>

<h4 class="subheading">gss_release_name</h4>

<p><a name="gss_005frelease_005fname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_release_name</b> (<var>OM_uint32 * minor_status, gss_name_t * name</var>)<var><a name="index-gss_005frelease_005fname-61"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>name</var>: (gss_name_t, modify) The name to be deleted.

        <p>Free GSSAPI-allocated storage associated with an internal-form
name.  The name is set to GSS_C_NO_NAME on successful completion of
this call.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_NAME</code>: The name parameter did not contain a valid name. 
</p></blockquote></div>

<h4 class="subheading">gss_inquire_names_for_mech</h4>

<p><a name="gss_005finquire_005fnames_005ffor_005fmech"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_inquire_names_for_mech</b> (<var>OM_uint32 * minor_status, const gss_OID mechanism, gss_OID_set * name_types</var>)<var><a name="index-gss_005finquire_005fnames_005ffor_005fmech-62"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>mechanism</var>: (gss_OID, read) The mechanism to be interrogated.

        <p><var>name_types</var>: (gss_OID_set, modify) Set of name-types supported by
the specified mechanism.  The returned OID set must be freed by
the application after use with a call to gss_release_oid_set().

        <p>Returns the set of nametypes supported by the specified mechanism.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_inquire_mechs_for_name</h4>

<p><a name="gss_005finquire_005fmechs_005ffor_005fname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_inquire_mechs_for_name</b> (<var>OM_uint32 * minor_status, const gss_name_t input_name, gss_OID_set * mech_types</var>)<var><a name="index-gss_005finquire_005fmechs_005ffor_005fname-63"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>input_name</var>: (gss_name_t, read) The name to which the inquiry
relates.

        <p><var>mech_types</var>: (gss_OID_set, modify) Set of mechanisms that may
support the specified name.  The returned OID set must be freed
by the caller after use with a call to gss_release_oid_set().

        <p>Returns the set of mechanisms supported by the GSS-API
implementation that may be able to process the specified name.

        <p>Each mechanism returned will recognize at least one element within
the name.  It is permissible for this routine to be implemented
within a mechanism-independent GSS-API layer, using the type
information contained within the presented name, and based on
registration information provided by individual mechanism
implementations.  This means that the returned mech_types set may
indicate that a particular mechanism will understand the name when
in fact it would refuse to accept the name as input to
gss_canonicalize_name, gss_init_sec_context, gss_acquire_cred or
gss_add_cred (due to some property of the specific name, as opposed
to the name type).  Thus this routine should be used only as a
prefilter for a call to a subsequent mechanism-specific routine.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_NAME</code>: The input_name parameter was ill-formed.

        <p><code>GSS_S_BAD_NAMETYPE</code>: The input_name parameter contained an invalid
or unsupported type of name. 
</p></blockquote></div>

<h4 class="subheading">gss_canonicalize_name</h4>

<p><a name="gss_005fcanonicalize_005fname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_canonicalize_name</b> (<var>OM_uint32 * minor_status, const gss_name_t input_name, const gss_OID mech_type, gss_name_t * output_name</var>)<var><a name="index-gss_005fcanonicalize_005fname-64"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>input_name</var>: (gss_name_t, read) The name for which a canonical form
is desired.

        <p><var>mech_type</var>: (Object ID, read) The authentication mechanism for
which the canonical form of the name is desired.  The desired
mechanism must be specified explicitly; no default is provided.

        <p><var>output_name</var>: (gss_name_t, modify) The resultant canonical name. 
Storage associated with this name must be freed by the
application after use with a call to gss_release_name().

        <p>Generate a canonical mechanism name (MN) from an arbitrary internal
name.  The mechanism name is the name that would be returned to a
context acceptor on successful authentication of a context where
the initiator used the input_name in a successful call to
gss_acquire_cred, specifying an OID set containing @mech_type as
its only member, followed by a call to gss_init_sec_context(),
specifying @mech_type as the authentication mechanism.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_export_name</h4>

<p><a name="gss_005fexport_005fname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_export_name</b> (<var>OM_uint32 * minor_status, const gss_name_t input_name, gss_buffer_t exported_name</var>)<var><a name="index-gss_005fexport_005fname-65"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>input_name</var>: (gss_name_t, read) The MN to be exported.

        <p><var>exported_name</var>: (gss_buffer_t, octet-string, modify) The canonical
contiguous string form of @input_name.  Storage associated with
this string must freed by the application after use with
gss_release_buffer().

        <p>To produce a canonical contiguous string representation of a
mechanism name (MN), suitable for direct comparison (e.g. with
memcmp) for use in authorization functions (e.g. matching entries
in an access-control list).  The @input_name parameter must specify
a valid MN (i.e. an internal name generated by
gss_accept_sec_context() or by gss_canonicalize_name()).

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_NAME_NOT_MN</code>: The provided internal name was not a mechanism
name.

        <p><code>GSS_S_BAD_NAME</code>: The provided internal name was ill-formed.

        <p><code>GSS_S_BAD_NAMETYPE</code>: The internal name was of a type not supported
by the GSS-API implementation. 
</p></blockquote></div>

<h4 class="subheading">gss_duplicate_name</h4>

<p><a name="gss_005fduplicate_005fname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_duplicate_name</b> (<var>OM_uint32 * minor_status, const gss_name_t src_name, gss_name_t * dest_name</var>)<var><a name="index-gss_005fduplicate_005fname-66"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>src_name</var>: (gss_name_t, read) Internal name to be duplicated.

        <p><var>dest_name</var>: (gss_name_t, modify) The resultant copy of @src_name. 
Storage associated with this name must be freed by the application
after use with a call to gss_release_name().

        <p>Create an exact duplicate of the existing internal name @src_name. 
The new @dest_name will be independent of src_name (i.e. @src_name
and @dest_name must both be released, and the release of one shall
not affect the validity of the other).

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_NAME</code>: The src_name parameter was ill-formed. 
</p></blockquote></div>

<div class="node">
<a name="Miscellaneous-Routines"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SASL-GS2-Routines">SASL GS2 Routines</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Name-Manipulation">Name Manipulation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.9 Miscellaneous Routines</h3>

<pre class="verbatim">   GSS-API Miscellaneous Routines

   Routine                        Function
   -------                        --------
   gss_add_oid_set_member         Add an object identifier to
                                  a set.
   gss_display_status             Convert a GSS-API status code
                                  to text.
   gss_indicate_mechs             Determine available underlying
                                  authentication mechanisms.
   gss_release_buffer             Discard a buffer.
   gss_release_oid_set            Discard a set of object
                                  identifiers.
   gss_create_empty_oid_set       Create a set containing no
                                  object identifiers.
   gss_test_oid_set_member        Determines whether an object
                                  identifier is a member of a set.
</pre>

<h4 class="subheading">gss_add_oid_set_member</h4>

<p><a name="gss_005fadd_005foid_005fset_005fmember"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_add_oid_set_member</b> (<var>OM_uint32 * minor_status, const gss_OID member_oid, gss_OID_set * oid_set</var>)<var><a name="index-gss_005fadd_005foid_005fset_005fmember-67"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>member_oid</var>: (Object ID, read) The object identifier to copied into
the set.

        <p><var>oid_set</var>: (Set of Object ID, modify) The set in which the object
identifier should be inserted.

        <p>Add an Object Identifier to an Object Identifier set.  This routine
is intended for use in conjunction with gss_create_empty_oid_set
when constructing a set of mechanism OIDs for input to
gss_acquire_cred.  The oid_set parameter must refer to an OID-set
that was created by GSS-API (e.g. a set returned by
gss_create_empty_oid_set()). GSS-API creates a copy of the
member_oid and inserts this copy into the set, expanding the
storage allocated to the OID-set's elements array if necessary. 
The routine may add the new member OID anywhere within the elements
array, and implementations should verify that the new member_oid is
not already contained within the elements array; if the member_oid
is already present, the oid_set should remain unchanged.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_display_status</h4>

<p><a name="gss_005fdisplay_005fstatus"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_display_status</b> (<var>OM_uint32 * minor_status, OM_uint32 status_value, int status_type, const gss_OID mech_type, OM_uint32 * message_context, gss_buffer_t status_string</var>)<var><a name="index-gss_005fdisplay_005fstatus-68"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>status_value</var>: (Integer, read) Status value to be converted.

        <p><var>status_type</var>: (Integer, read) GSS_C_GSS_CODE - status_value is a
GSS status code. GSS_C_MECH_CODE - status_value is a mechanism
status code.

        <p><var>mech_type</var>: (Object ID, read, optional) Underlying mechanism (used
to interpret a minor status value). Supply GSS_C_NO_OID to obtain
the system default.

        <p><var>message_context</var>: (Integer, read/modify) Should be initialized to
zero by the application prior to the first call.  On return from
gss_display_status(), a non-zero status_value parameter indicates
that additional messages may be extracted from the status code
via subsequent calls to gss_display_status(), passing the same
status_value, status_type, mech_type, and message_context
parameters.

        <p><var>status_string</var>: (buffer, character string, modify) Textual
interpretation of the status_value.  Storage associated with this
parameter must be freed by the application after use with a call
to gss_release_buffer().

        <p>Allows an application to obtain a textual representation of a
GSS-API status code, for display to the user or for logging
purposes.  Since some status values may indicate multiple
conditions, applications may need to call gss_display_status
multiple times, each call generating a single text string.  The
message_context parameter is used by gss_display_status to store
state information about which error messages have already been
extracted from a given status_value; message_context must be
initialized to 0 by the application prior to the first call, and
gss_display_status will return a non-zero value in this parameter
if there are further messages to extract.

        <p>The message_context parameter contains all state information
required by gss_display_status in order to extract further messages
from the status_value; even when a non-zero value is returned in
this parameter, the application is not required to call
gss_display_status again unless subsequent messages are desired. 
The following code extracts all messages from a given status code
and prints them to stderr:

     <pre class="example">          OM_uint32 message_context;
          OM_uint32 status_code;
          OM_uint32 maj_status;
          OM_uint32 min_status;
          gss_buffer_desc status_string;
          
                 ...
          
          message_context = 0;
          
          do {
            maj_status = gss_display_status (
                            &amp;min_status,
                            status_code,
                            GSS_C_GSS_CODE,
                            GSS_C_NO_OID,
                            &amp;message_context,
                            &amp;status_string)
          
            fprintf(stderr,
                    "%.*s\n",
                   (int)status_string.length,
          
                   (char *)status_string.value);
          
            gss_release_buffer(&amp;min_status, &amp;status_string);
          
          } while (message_context != 0);
</pre>
        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_MECH</code>: Indicates that translation in accordance with an
unsupported mechanism type was requested.

        <p><code>GSS_S_BAD_STATUS</code>: The status value was not recognized, or the
status type was neither GSS_C_GSS_CODE nor GSS_C_MECH_CODE. 
</p></blockquote></div>

<h4 class="subheading">gss_indicate_mechs</h4>

<p><a name="gss_005findicate_005fmechs"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_indicate_mechs</b> (<var>OM_uint32 * minor_status, gss_OID_set * mech_set</var>)<var><a name="index-gss_005findicate_005fmechs-69"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>mech_set</var>: (set of Object IDs, modify) Set of
implementation-supported mechanisms.  The returned gss_OID_set
value will be a dynamically-allocated OID set, that should be
released by the caller after use with a call to
gss_release_oid_set().

        <p>Allows an application to determine which underlying security
mechanisms are available.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_release_buffer</h4>

<p><a name="gss_005frelease_005fbuffer"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_release_buffer</b> (<var>OM_uint32 * minor_status, gss_buffer_t buffer</var>)<var><a name="index-gss_005frelease_005fbuffer-70"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>buffer</var>: (buffer, modify) The storage associated with the buffer
will be deleted.  The gss_buffer_desc object will not be freed,
but its length field will be zeroed.

        <p>Free storage associated with a buffer.  The storage must have been
allocated by a GSS-API routine.  In addition to freeing the
associated storage, the routine will zero the length field in the
descriptor to which the buffer parameter refers, and
implementations are encouraged to additionally set the pointer
field in the descriptor to NULL.  Any buffer object returned by a
GSS-API routine may be passed to gss_release_buffer (even if there
is no storage associated with the buffer).

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_release_oid_set</h4>

<p><a name="gss_005frelease_005foid_005fset"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_release_oid_set</b> (<var>OM_uint32 * minor_status, gss_OID_set * set</var>)<var><a name="index-gss_005frelease_005foid_005fset-71"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>set</var>: (Set of Object IDs, modify) The storage associated with the
gss_OID_set will be deleted.

        <p>Free storage associated with a GSSAPI-generated gss_OID_set object. 
The set parameter must refer to an OID-set that was returned from a
GSS-API routine.  gss_release_oid_set() will free the storage
associated with each individual member OID, the OID set's elements
array, and the gss_OID_set_desc.

        <p>The gss_OID_set parameter is set to GSS_C_NO_OID_SET on successful
completion of this routine.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_create_empty_oid_set</h4>

<p><a name="gss_005fcreate_005fempty_005foid_005fset"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_create_empty_oid_set</b> (<var>OM_uint32 * minor_status, gss_OID_set * oid_set</var>)<var><a name="index-gss_005fcreate_005fempty_005foid_005fset-72"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>oid_set</var>: (Set of Object IDs, modify) The empty object identifier
set.  The routine will allocate the gss_OID_set_desc object,
which the application must free after use with a call to
gss_release_oid_set().

        <p>Create an object-identifier set containing no object identifiers,
to which members may be subsequently added using the
gss_add_oid_set_member() routine.  These routines are intended to
be used to construct sets of mechanism object identifiers, for
input to gss_acquire_cred.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_test_oid_set_member</h4>

<p><a name="gss_005ftest_005foid_005fset_005fmember"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_test_oid_set_member</b> (<var>OM_uint32 * minor_status, const gss_OID member, const gss_OID_set set, int * present</var>)<var><a name="index-gss_005ftest_005foid_005fset_005fmember-73"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>member</var>: (Object ID, read) The object identifier whose presence is
to be tested.

        <p><var>set</var>: (Set of Object ID, read) The Object Identifier set.

        <p><var>present</var>: (Boolean, modify) Non-zero if the specified OID is a
member of the set, zero if not.

        <p>Interrogate an Object Identifier set to determine whether a
specified Object Identifier is a member.  This routine is intended
to be used with OID sets returned by gss_indicate_mechs(),
gss_acquire_cred(), and gss_inquire_cred(), but will also work with
user-generated sets.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<div class="node">
<a name="SASL-GS2-Routines"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Miscellaneous-Routines">Miscellaneous Routines</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Standard-GSS-API">Standard GSS API</a>

</div>

<h3 class="section">3.10 SASL GS2 Routines</h3>

<h4 class="subheading">gss_inquire_mech_for_saslname</h4>

<p><a name="gss_005finquire_005fmech_005ffor_005fsaslname"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_inquire_mech_for_saslname</b> (<var>OM_uint32 * minor_status, const gss_buffer_t sasl_mech_name, gss_OID * mech_type</var>)<var><a name="index-gss_005finquire_005fmech_005ffor_005fsaslname-74"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>sasl_mech_name</var>: (buffer, character-string, read) Buffer with SASL
mechanism name.

        <p><var>mech_type</var>: (OID, modify, optional) Actual mechanism used.  The OID
returned via this parameter will be a pointer to static storage
that should be treated as read-only; In particular the
application should not attempt to free it.  Specify %NULL if not
required.

        <p>Output GSS-API mechanism OID of mechanism associated with given
@sasl_mech_name.

        <p>Returns:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_MECH</code>: There is no GSS-API mechanism known as @sasl_mech_name.

        <p>Since:
0.1.4
</p></blockquote></div>

<h4 class="subheading">gss_inquire_saslname_for_mech</h4>

<p><a name="gss_005finquire_005fsaslname_005ffor_005fmech"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_inquire_saslname_for_mech</b> (<var>OM_uint32 * minor_status, const gss_OID desired_mech, gss_buffer_t sasl_mech_name, gss_buffer_t mech_name, gss_buffer_t mech_description</var>)<var><a name="index-gss_005finquire_005fsaslname_005ffor_005fmech-75"></a></var><br>
<blockquote><p><var>minor_status</var>: (Integer, modify) Mechanism specific status code.

        <p><var>desired_mech</var>: (OID, read) Identifies the GSS-API mechanism to query.

        <p><var>sasl_mech_name</var>: (buffer, character-string, modify, optional)
Buffer to receive SASL mechanism name.  The application must free
storage associated with this name after use with a call to
gss_release_buffer().

        <p><var>mech_name</var>: (buffer, character-string, modify, optional) Buffer to
receive human readable mechanism name.  The application must free
storage associated with this name after use with a call to
gss_release_buffer().

        <p><var>mech_description</var>: (buffer, character-string, modify, optional)
Buffer to receive description of mechanism.  The application must
free storage associated with this name after use with a call to
gss_release_buffer().

        <p>Output the SASL mechanism name of a GSS-API mechanism.  It also
returns a name and description of the mechanism in a user friendly
form.

        <p>Returns:

        <p><code>GSS_S_COMPLETE</code>: Successful completion.

        <p><code>GSS_S_BAD_MECH</code>: The @desired_mech OID is unsupported.

        <p>Since:
0.1.4
</p></blockquote></div>

<!-- ********************************************************** -->
<!-- ************** Generic Security Services  **************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Extended-GSS-API"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Acknowledgements">Acknowledgements</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Standard-GSS-API">Standard GSS API</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Extended GSS API</h2>

<p>None of the following functions are standard GSS API functions.  As
such, they are not declared in <samp><span class="file">gss/api.h</span></samp>, but rather in
<samp><span class="file">gss/ext.h</span></samp> (which is included from <samp><span class="file">gss.h</span></samp>). 
See <a href="#Header">Header</a>.

<h4 class="subheading">gss_check_version</h4>

<p><a name="gss_005fcheck_005fversion"></a>

<div class="defun">
&mdash; Function: const char * <b>gss_check_version</b> (<var>const char * req_version</var>)<var><a name="index-gss_005fcheck_005fversion-76"></a></var><br>
<blockquote><p><var>req_version</var>: version string to compare with, or NULL

        <p>Check that the version of the library is at minimum the one
given as a string in @req_version.

        <p>Return value:
The actual version string of the library; NULL if the
  condition is not met.  If %NULL is passed to this function no
  check is done and only the version string is returned. 
</p></blockquote></div>

<h4 class="subheading">gss_oid_equal</h4>

<p><a name="gss_005foid_005fequal"></a>

<div class="defun">
&mdash; Function: int <b>gss_oid_equal</b> (<var>gss_OID first_oid, gss_OID second_oid</var>)<var><a name="index-gss_005foid_005fequal-77"></a></var><br>
<blockquote><p><var>first_oid</var>: (Object ID, read) First Object identifier.

        <p><var>second_oid</var>: (Object ID, read) First Object identifier.

        <p>Compare two OIDs for equality.  The comparison is "deep", i.e., the
actual byte sequences of the OIDs are compared instead of just the
pointer equality.

        <p>Return value:
Returns boolean value true when the two OIDs are
  equal, otherwise false. 
</p></blockquote></div>

<h4 class="subheading">gss_copy_oid</h4>

<p><a name="gss_005fcopy_005foid"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_copy_oid</b> (<var>OM_uint32 * minor_status, const gss_OID src_oid, gss_OID dest_oid</var>)<var><a name="index-gss_005fcopy_005foid-78"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>src_oid</var>: (Object ID, read) The object identifier to copy.

        <p><var>dest_oid</var>: (Object ID, modify) The resultant copy of @src_oid. 
Storage associated with this name must be freed by the
application, but gss_release_oid() cannot be used generally as it
deallocate the oid structure itself too (use
gss_duplicate_oid() if you don't want this problem.)

        <p>Make an exact copy of the given OID, that shares no memory areas
with the original.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_duplicate_oid</h4>

<p><a name="gss_005fduplicate_005foid"></a>

<div class="defun">
&mdash; Function: OM_uint32 <b>gss_duplicate_oid</b> (<var>OM_uint32 * minor_status, const gss_OID src_oid, gss_OID * dest_oid</var>)<var><a name="index-gss_005fduplicate_005foid-79"></a></var><br>
<blockquote><p><var>minor_status</var>: (integer, modify) Mechanism specific status code.

        <p><var>src_oid</var>: (Object ID, read) The object identifier to duplicate.

        <p><var>dest_oid</var>: (Object ID, modify) The resultant copy of @src_oid. 
Storage associated with this name must be freed by the
application, by calling gss_release_oid().

        <p>Allocate a new OID and make it an exact copy of the given OID, that
shares no memory areas with the original.

        <p>Return value:

        <p><code>GSS_S_COMPLETE</code>: Successful completion. 
</p></blockquote></div>

<h4 class="subheading">gss_userok</h4>

<p><a name="gss_005fuserok"></a>

<div class="defun">
&mdash; Function: int <b>gss_userok</b> (<var>const gss_name_t name, const char * username</var>)<var><a name="index-gss_005fuserok-80"></a></var><br>
<blockquote><p><var>name</var>: (gss_name_t, read) Name to be compared.

        <p><var>username</var>: Zero terminated string with username.

        <p>Compare the username against the output from gss_export_name()
invoked on @name, after removing the leading OID.  This answers the
question whether the particular mechanism would authenticate them
as the same principal

        <p>Return value:
Returns 0 if the names match, non-0 otherwise. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: int <b>gss_encapsulate_token</b> (<var>gss_buffer_t input_message, gss_OID token_oid, gss_buffer_t output_message</var>)<var><a name="index-gss_005fencapsulate_005ftoken-81"></a></var><br>
<blockquote>
        <p><var>input_message</var>: Message to be encapsulated.

        <p><var>token_oid</var>: OID of mechanism.

        <p><var>input_message</var>: Output buffer with encapsulated message.

        <p>Wrap a buffer in the mechanism-independent token format.  This is used
for the initial token of a GSS-API context establishment sequence.  It
incorporates an identifier of the mechanism type to be used on that
context, and enables tokens to be interpreted unambiguously at GSS-API
peers.  See further section 3.1 of RFC 2743. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: int <b>gss_decapsulate_token</b> (<var>gss_buffer_t input_message, gss_OID token_oid, gss_buffer_t output_message</var>)<var><a name="index-gss_005fdecapsulate_005ftoken-82"></a></var><br>
<blockquote>
        <p><var>input_message</var>: Message to decapsulated.

        <p><var>token_oid</var>: Output buffer with mechanism OID used in message.

        <p><var>input_message</var>: Output buffer with encapsulated message.

        <p>Unwrap a buffer in the mechanism-independent token format.  This is
the reverse of <code>gss_encapsulate_token</code>.  The translation is
loss-less, all data is preserved as is.

        </blockquote></div>

<!-- ********************************************************** -->
<!-- *******************  Acknowledgements  ******************* -->
<!-- ********************************************************** -->
<div class="node">
<a name="Acknowledgements"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Criticism-of-GSS">Criticism of GSS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Extended-GSS-API">Extended GSS API</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Acknowledgements</h2>

<p>This manual borrows text from RFC 2743 and RFC 2744 that describe GSS
API formally.

<!-- ********************************************************** -->
<!-- *******************  Appendices  ************************* -->
<!-- ********************************************************** -->
<div class="node">
<a name="Criticism-of-GSS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying-Information">Copying Information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Acknowledgements">Acknowledgements</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A Criticism of GSS</h2>

<p>The author has doubts whether GSS is the best solution for free
software projects looking for a implementation agnostic security
framework.  We express these doubts in this section, so that the
reader can judge for herself if any of the potential problems
discussed here are relevant for their project, or if the benefit
outweigh the problems.  We are aware that some of the opinions are
highly subjective, but we offer them in the hope they can serve as
anecdotal evidence.

   <p>GSS can be criticized on several levels.  We start with the actual
implementation.

   <p>GSS does not appear to be designed by experienced C programmers. 
While generally this may be a good thing (C is not the best language),
but since they defined the API in C, it is unfortunate.  The primary
evidence of this is the major_status and minor_status error code
solution.  It is a complicated way to describe error conditions, but
what makes matters worse, the error condition is separated; half of
the error condition is in the function return value and the other half
is in the first argument to the function, which is always a pointer to
an integer.  (The pointer is not even allowed to be <code>NULL</code>, if
the application doesn't care about the minor error code.)  This makes
the API unreadable, and difficult to use.  A better solutions would be
to return a struct containing the entire error condition, which can be
accessed using macros, although we acknowledge that the C language
used at the time GSS was designed may not have allowed this (this may
in fact be the reason the awkward solution was chosen).  Instead, the
return value could have been passed back to callers using a pointer to
a struct, accessible using various macros, and the function could have
a void prototype.  The fact that minor_status is placed first in the
parameter list increases the pain it is to use the API.  Important
parameters should be placed first. A better place for minor_status (if
it must be present at all) would have been last in the prototypes.

   <p>Another evidence of the C inexperience are the memory management
issues; GSS provides functions to deallocate data stored within, e.g.,
<code>gss_buffer_t</code> but the caller is responsible of deallocating the
structure pointed at by the <code>gss_buffer_t</code> (i.e., the
<code>gss_buffer_desc</code>) itself.  Memory management issues are error
prone, and this division easily leads to memory leaks (or worse). 
Instead, the API should be the sole owner of all <code>gss_ctx_id_t</code>,
<code>gss_cred_id_t</code>, and <code>gss_buffer_t</code> structures: they should
be allocated by the library, and deallocated (using the utility
functions defined for this purpose) by the library.

   <p>TBA: specification is unclear how memory for OIDs are managed.  For
example, who is responsible for deallocate potentially newly allocated
OIDs returned as <code>actual_mechs</code> in <code>gss_acquire_cred</code>? 
Further, are OIDs deeply copied into OID sets?  In other words, if I
add an OID into an OID set, and modify the original OID, will the OID
in the OID set be modified too?

   <p>Another illustrating example is the sample GSS header file given in
the RFC, which contains:

<pre class="example">     /*
      * We have included the xom.h header file.  Verify that OM_uint32
      * is defined correctly.
      */
     #if sizeof(gss_uint32) != sizeof(OM_uint32)
     #error Incompatible definition of OM_uint32 from xom.h
     #endif
</pre>
   <p>The C pre-processor does not know about the <code>sizeof</code> function, so
it is treated as an identifier, which maps to 0.  Thus, the expression
does not check that the size of <code>OM_uint32</code> is correct.  It
checks whether the expression <code>0 != 0</code> holds.

   <p>TBA: thread issues

   <p>TBA: multiple mechanisms in a GSS library

   <p>TBA: high-level design criticism.

   <p>TBA: no credential forwarding.

   <p>TBA: internationalization

   <p>TBA: dynamically generated OIDs and memory deallocation issue.  I.e.,
should gss_import_name or gss_duplicate_name allocate memory and copy
the OID provided, or simply copy the pointer?  If the former, who
would deallocate that memory?  If the latter, the application may
deallocate or modify the OID, which seem unwanted.

   <p>TBA: krb5: no way to access authorization-data

   <p>TBA: krb5: firewall/pre-IP: iakerb status?

   <p>TBA: krb5: single-DES only

   <p>TBA: the API may block, unusable in select() based servers. 
Especially if the servers contacted is decided by the, yet
unauthenticated, remote client.

   <p>TBA: krb5: no support for GSS_C_PROT_READY_FLAG.  We support it
anyway, though.

   <p>TBA: krb5: gssapi-cfx differ from rfc 1964 in the reply token in that
the latter require presence of sequence numbers whereas the former
doesn't.

   <p>Finally we note that few free security applications uses GSS, perhaps
the only major exception to this are Kerberos 5 implementations. 
While not substantial evidence, this do suggest that the GSS may not
be the simplest solution available to solve actual problems, since
otherwise more projects would have chosen to take advantage of the
work that went into GSS instead of using another framework (or
designing their own solution).

   <p>Our conclusion is that free software projects that are looking for a
security framework should evaluate carefully whether GSS actually is
the best solution before using it.  In particular it is recommended to
compare GSS with the Simple Authentication and Security Layer (SASL)
framework, which in several situations provide the same feature as GSS
does.  The most compelling argument for SASL over GSS is, as its
acronym suggest, Simple, whereas GSS is far from it.

   <p>However, that said, for free software projects that wants to support
Kerberos 5, we do acknowledge that no other framework provides a more
portable and interoperable interface into the Kerberos 5 system.  If
your project needs to use Kerberos 5 specifically, we do recommend you
to use GSS instead of the Kerberos 5 implementation specific APIs.

<div class="node">
<a name="Copying-Information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Concept-Index">Concept Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Criticism-of-GSS">Criticism of GSS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix B Copying Information</h2>

<ul class="menu">
<li><a accesskey="1" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>:    License for copying this manual. 
<li><a accesskey="2" href="#GNU-GPL">GNU GPL</a>:                           License for copying the programs. 
</ul>

<div class="node">
<a name="GNU-Free-Documentation-License"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GNU-GPL">GNU GPL</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Copying-Information">Copying Information</a>

</div>

<h3 class="appendixsec">B.1 GNU Free Documentation License</h3>

<p><a name="index-FDL_002c-GNU-Free-Documentation-License-83"></a>

<!-- The GNU Free Documentation License. -->
<div align="center">Version 1.3, 3 November 2008</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
</pre>
     <ol type=1 start=0>
<li>PREAMBLE

     <p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <dfn>free</dfn> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially. 
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

     <p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

     <p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

     <li>APPLICABILITY AND DEFINITIONS

     <p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

     <p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

     <p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

     <p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

     <p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

     <p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent. 
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.

     <p>Examples of suitable formats for Transparent copies include plain
<span class="sc">ascii</span> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.

     <p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

     <p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.

     <p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.

     <p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

     <li>VERBATIM COPYING

     <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

     <p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

     <li>COPYING IN QUANTITY

     <p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

     <p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

     <p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material. 
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

     <p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

     <li>MODIFICATIONS

     <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

          <ol type=A start=1>
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

          <li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

          <li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

          <li>Preserve all the copyright notices of the Document.

          <li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

          <li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

          <li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

          <li>Include an unaltered copy of this License.

          <li>Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

          <li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

          <li>For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

          <li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

          <li>Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

          <li>Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

          <li>Preserve any Warranty Disclaimers.
          </ol>

     <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

     <p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

     <p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

     <p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

     <li>COMBINING DOCUMENTS

     <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

     <p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

     <p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;

     <li>COLLECTIONS OF DOCUMENTS

     <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

     <p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

     <li>AGGREGATION WITH INDEPENDENT WORKS

     <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit. 
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

     <p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form. 
Otherwise they must appear on printed covers that bracket the whole
aggregate.

     <li>TRANSLATION

     <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

     <p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.

     <li>TERMINATION

     <p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.

     <li>FUTURE REVISIONS OF THIS LICENSE

     <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

     <p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

     <li>RELICENSING

     <p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.

     <p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

     <p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.

     <p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.

     <p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.

        </ol>

<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<pre class="smallexample">       Copyright (C)  <var>year</var>  <var>your name</var>.
       Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU Free Documentation License, Version 1.3
       or any later version published by the Free Software Foundation;
       with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
       Texts.  A copy of the license is included in the section entitled ``GNU
       Free Documentation License''.
</pre>
   <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with<small class="dots">...</small>Texts.&rdquo; line with this:

<pre class="smallexample">         with the Invariant Sections being <var>list their titles</var>, with
         the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
         being <var>list</var>.
</pre>
   <p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

   <p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<!-- Local Variables: -->
<!-- ispell-local-pdict: "ispell-dict" -->
<!-- End: -->
<div class="node">
<a name="GNU-GPL"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Copying-Information">Copying Information</a>

</div>

<h3 class="appendixsec">B.2 GNU General Public License</h3>

<p><a name="index-GPL_002c-GNU-General-Public-License-84"></a><a name="index-License_002c-GNU-GPL-85"></a>

<!-- The GNU General Public License. -->
<div align="center">Version 3, 29 June 2007</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 2007 Free Software Foundation, Inc. <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies of this
     license document, but changing it is not allowed.
</pre>
   <h3 class="heading">Preamble</h3>

<p>The GNU General Public License is a free, copyleft license for
software and other kinds of works.

   <p>The licenses for most software and other practical works are designed
to take away your freedom to share and change the works.  By contrast,
the GNU General Public License is intended to guarantee your freedom
to share and change all versions of a program&mdash;to make sure it remains
free software for all its users.  We, the Free Software Foundation,
use the GNU General Public License for most of our software; it
applies also to any other work released this way by its authors.  You
can apply it to your programs, too.

   <p>When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
them if you wish), that you receive source code or can get it if you
want it, that you can change the software or use pieces of it in new
free programs, and that you know you can do these things.

   <p>To protect your rights, we need to prevent others from denying you
these rights or asking you to surrender the rights.  Therefore, you
have certain responsibilities if you distribute copies of the
software, or if you modify it: responsibilities to respect the freedom
of others.

   <p>For example, if you distribute copies of such a program, whether
gratis or for a fee, you must pass on to the recipients the same
freedoms that you received.  You must make sure that they, too,
receive or can get the source code.  And you must show them these
terms so they know their rights.

   <p>Developers that use the GNU GPL protect your rights with two steps:
(1) assert copyright on the software, and (2) offer you this License
giving you legal permission to copy, distribute and/or modify it.

   <p>For the developers' and authors' protection, the GPL clearly explains
that there is no warranty for this free software.  For both users' and
authors' sake, the GPL requires that modified versions be marked as
changed, so that their problems will not be attributed erroneously to
authors of previous versions.

   <p>Some devices are designed to deny users access to install or run
modified versions of the software inside them, although the
manufacturer can do so.  This is fundamentally incompatible with the
aim of protecting users' freedom to change the software.  The
systematic pattern of such abuse occurs in the area of products for
individuals to use, which is precisely where it is most unacceptable. 
Therefore, we have designed this version of the GPL to prohibit the
practice for those products.  If such problems arise substantially in
other domains, we stand ready to extend this provision to those
domains in future versions of the GPL, as needed to protect the
freedom of users.

   <p>Finally, every program is threatened constantly by software patents. 
States should not allow patents to restrict development and use of
software on general-purpose computers, but in those that do, we wish
to avoid the special danger that patents applied to a free program
could make it effectively proprietary.  To prevent this, the GPL
assures that patents cannot be used to render the program non-free.

   <p>The precise terms and conditions for copying, distribution and
modification follow.

<h3 class="heading">TERMS AND CONDITIONS</h3>

     <ol type=1 start=0>
<li>Definitions.

     <p>&ldquo;This License&rdquo; refers to version 3 of the GNU General Public License.

     <p>&ldquo;Copyright&rdquo; also means copyright-like laws that apply to other kinds
of works, such as semiconductor masks.

     <p>&ldquo;The Program&rdquo; refers to any copyrightable work licensed under this
License.  Each licensee is addressed as &ldquo;you&rdquo;.  &ldquo;Licensees&rdquo; and
&ldquo;recipients&rdquo; may be individuals or organizations.

     <p>To &ldquo;modify&rdquo; a work means to copy from or adapt all or part of the work
in a fashion requiring copyright permission, other than the making of
an exact copy.  The resulting work is called a &ldquo;modified version&rdquo; of
the earlier work or a work &ldquo;based on&rdquo; the earlier work.

     <p>A &ldquo;covered work&rdquo; means either the unmodified Program or a work based
on the Program.

     <p>To &ldquo;propagate&rdquo; a work means to do anything with it that, without
permission, would make you directly or secondarily liable for
infringement under applicable copyright law, except executing it on a
computer or modifying a private copy.  Propagation includes copying,
distribution (with or without modification), making available to the
public, and in some countries other activities as well.

     <p>To &ldquo;convey&rdquo; a work means any kind of propagation that enables other
parties to make or receive copies.  Mere interaction with a user
through a computer network, with no transfer of a copy, is not
conveying.

     <p>An interactive user interface displays &ldquo;Appropriate Legal Notices&rdquo; to
the extent that it includes a convenient and prominently visible
feature that (1) displays an appropriate copyright notice, and (2)
tells the user that there is no warranty for the work (except to the
extent that warranties are provided), that licensees may convey the
work under this License, and how to view a copy of this License.  If
the interface presents a list of user commands or options, such as a
menu, a prominent item in the list meets this criterion.

     <li>Source Code.

     <p>The &ldquo;source code&rdquo; for a work means the preferred form of the work for
making modifications to it.  &ldquo;Object code&rdquo; means any non-source form
of a work.

     <p>A &ldquo;Standard Interface&rdquo; means an interface that either is an official
standard defined by a recognized standards body, or, in the case of
interfaces specified for a particular programming language, one that
is widely used among developers working in that language.

     <p>The &ldquo;System Libraries&rdquo; of an executable work include anything, other
than the work as a whole, that (a) is included in the normal form of
packaging a Major Component, but which is not part of that Major
Component, and (b) serves only to enable use of the work with that
Major Component, or to implement a Standard Interface for which an
implementation is available to the public in source code form.  A
&ldquo;Major Component&rdquo;, in this context, means a major essential component
(kernel, window system, and so on) of the specific operating system
(if any) on which the executable work runs, or a compiler used to
produce the work, or an object code interpreter used to run it.

     <p>The &ldquo;Corresponding Source&rdquo; for a work in object code form means all
the source code needed to generate, install, and (for an executable
work) run the object code and to modify the work, including scripts to
control those activities.  However, it does not include the work's
System Libraries, or general-purpose tools or generally available free
programs which are used unmodified in performing those activities but
which are not part of the work.  For example, Corresponding Source
includes interface definition files associated with source files for
the work, and the source code for shared libraries and dynamically
linked subprograms that the work is specifically designed to require,
such as by intimate data communication or control flow between those
subprograms and other parts of the work.

     <p>The Corresponding Source need not include anything that users can
regenerate automatically from other parts of the Corresponding Source.

     <p>The Corresponding Source for a work in source code form is that same
work.

     <li>Basic Permissions.

     <p>All rights granted under this License are granted for the term of
copyright on the Program, and are irrevocable provided the stated
conditions are met.  This License explicitly affirms your unlimited
permission to run the unmodified Program.  The output from running a
covered work is covered by this License only if the output, given its
content, constitutes a covered work.  This License acknowledges your
rights of fair use or other equivalent, as provided by copyright law.

     <p>You may make, run and propagate covered works that you do not convey,
without conditions so long as your license otherwise remains in force. 
You may convey covered works to others for the sole purpose of having
them make modifications exclusively for you, or provide you with
facilities for running those works, provided that you comply with the
terms of this License in conveying all material for which you do not
control copyright.  Those thus making or running the covered works for
you must do so exclusively on your behalf, under your direction and
control, on terms that prohibit them from making any copies of your
copyrighted material outside their relationship with you.

     <p>Conveying under any other circumstances is permitted solely under the
conditions stated below.  Sublicensing is not allowed; section 10
makes it unnecessary.

     <li>Protecting Users' Legal Rights From Anti-Circumvention Law.

     <p>No covered work shall be deemed part of an effective technological
measure under any applicable law fulfilling obligations under article
11 of the WIPO copyright treaty adopted on 20 December 1996, or
similar laws prohibiting or restricting circumvention of such
measures.

     <p>When you convey a covered work, you waive any legal power to forbid
circumvention of technological measures to the extent such
circumvention is effected by exercising rights under this License with
respect to the covered work, and you disclaim any intention to limit
operation or modification of the work as a means of enforcing, against
the work's users, your or third parties' legal rights to forbid
circumvention of technological measures.

     <li>Conveying Verbatim Copies.

     <p>You may convey verbatim copies of the Program's source code as you
receive it, in any medium, provided that you conspicuously and
appropriately publish on each copy an appropriate copyright notice;
keep intact all notices stating that this License and any
non-permissive terms added in accord with section 7 apply to the code;
keep intact all notices of the absence of any warranty; and give all
recipients a copy of this License along with the Program.

     <p>You may charge any price or no price for each copy that you convey,
and you may offer support or warranty protection for a fee.

     <li>Conveying Modified Source Versions.

     <p>You may convey a work based on the Program, or the modifications to
produce it from the Program, in the form of source code under the
terms of section 4, provided that you also meet all of these
conditions:

          <ol type=a start=1>
<li>The work must carry prominent notices stating that you modified it,
and giving a relevant date.

          <li>The work must carry prominent notices stating that it is released
under this License and any conditions added under section 7.  This
requirement modifies the requirement in section 4 to &ldquo;keep intact all
notices&rdquo;.

          <li>You must license the entire work, as a whole, under this License to
anyone who comes into possession of a copy.  This License will
therefore apply, along with any applicable section 7 additional terms,
to the whole of the work, and all its parts, regardless of how they
are packaged.  This License gives no permission to license the work in
any other way, but it does not invalidate such permission if you have
separately received it.

          <li>If the work has interactive user interfaces, each must display
Appropriate Legal Notices; however, if the Program has interactive
interfaces that do not display Appropriate Legal Notices, your work
need not make them do so.
          </ol>

     <p>A compilation of a covered work with other separate and independent
works, which are not by their nature extensions of the covered work,
and which are not combined with it such as to form a larger program,
in or on a volume of a storage or distribution medium, is called an
&ldquo;aggregate&rdquo; if the compilation and its resulting copyright are not
used to limit the access or legal rights of the compilation's users
beyond what the individual works permit.  Inclusion of a covered work
in an aggregate does not cause this License to apply to the other
parts of the aggregate.

     <li>Conveying Non-Source Forms.

     <p>You may convey a covered work in object code form under the terms of
sections 4 and 5, provided that you also convey the machine-readable
Corresponding Source under the terms of this License, in one of these
ways:

          <ol type=a start=1>
<li>Convey the object code in, or embodied in, a physical product
(including a physical distribution medium), accompanied by the
Corresponding Source fixed on a durable physical medium customarily
used for software interchange.

          <li>Convey the object code in, or embodied in, a physical product
(including a physical distribution medium), accompanied by a written
offer, valid for at least three years and valid for as long as you
offer spare parts or customer support for that product model, to give
anyone who possesses the object code either (1) a copy of the
Corresponding Source for all the software in the product that is
covered by this License, on a durable physical medium customarily used
for software interchange, for a price no more than your reasonable
cost of physically performing this conveying of source, or (2) access
to copy the Corresponding Source from a network server at no charge.

          <li>Convey individual copies of the object code with a copy of the written
offer to provide the Corresponding Source.  This alternative is
allowed only occasionally and noncommercially, and only if you
received the object code with such an offer, in accord with subsection
6b.

          <li>Convey the object code by offering access from a designated place
(gratis or for a charge), and offer equivalent access to the
Corresponding Source in the same way through the same place at no
further charge.  You need not require recipients to copy the
Corresponding Source along with the object code.  If the place to copy
the object code is a network server, the Corresponding Source may be
on a different server (operated by you or a third party) that supports
equivalent copying facilities, provided you maintain clear directions
next to the object code saying where to find the Corresponding Source. 
Regardless of what server hosts the Corresponding Source, you remain
obligated to ensure that it is available for as long as needed to
satisfy these requirements.

          <li>Convey the object code using peer-to-peer transmission, provided you
inform other peers where the object code and Corresponding Source of
the work are being offered to the general public at no charge under
subsection 6d.

          </ol>

     <p>A separable portion of the object code, whose source code is excluded
from the Corresponding Source as a System Library, need not be
included in conveying the object code work.

     <p>A &ldquo;User Product&rdquo; is either (1) a &ldquo;consumer product&rdquo;, which means any
tangible personal property which is normally used for personal,
family, or household purposes, or (2) anything designed or sold for
incorporation into a dwelling.  In determining whether a product is a
consumer product, doubtful cases shall be resolved in favor of
coverage.  For a particular product received by a particular user,
&ldquo;normally used&rdquo; refers to a typical or common use of that class of
product, regardless of the status of the particular user or of the way
in which the particular user actually uses, or expects or is expected
to use, the product.  A product is a consumer product regardless of
whether the product has substantial commercial, industrial or
non-consumer uses, unless such uses represent the only significant
mode of use of the product.

     <p>&ldquo;Installation Information&rdquo; for a User Product means any methods,
procedures, authorization keys, or other information required to
install and execute modified versions of a covered work in that User
Product from a modified version of its Corresponding Source.  The
information must suffice to ensure that the continued functioning of
the modified object code is in no case prevented or interfered with
solely because modification has been made.

     <p>If you convey an object code work under this section in, or with, or
specifically for use in, a User Product, and the conveying occurs as
part of a transaction in which the right of possession and use of the
User Product is transferred to the recipient in perpetuity or for a
fixed term (regardless of how the transaction is characterized), the
Corresponding Source conveyed under this section must be accompanied
by the Installation Information.  But this requirement does not apply
if neither you nor any third party retains the ability to install
modified object code on the User Product (for example, the work has
been installed in ROM).

     <p>The requirement to provide Installation Information does not include a
requirement to continue to provide support service, warranty, or
updates for a work that has been modified or installed by the
recipient, or for the User Product in which it has been modified or
installed.  Access to a network may be denied when the modification
itself materially and adversely affects the operation of the network
or violates the rules and protocols for communication across the
network.

     <p>Corresponding Source conveyed, and Installation Information provided,
in accord with this section must be in a format that is publicly
documented (and with an implementation available to the public in
source code form), and must require no special password or key for
unpacking, reading or copying.

     <li>Additional Terms.

     <p>&ldquo;Additional permissions&rdquo; are terms that supplement the terms of this
License by making exceptions from one or more of its conditions. 
Additional permissions that are applicable to the entire Program shall
be treated as though they were included in this License, to the extent
that they are valid under applicable law.  If additional permissions
apply only to part of the Program, that part may be used separately
under those permissions, but the entire Program remains governed by
this License without regard to the additional permissions.

     <p>When you convey a copy of a covered work, you may at your option
remove any additional permissions from that copy, or from any part of
it.  (Additional permissions may be written to require their own
removal in certain cases when you modify the work.)  You may place
additional permissions on material, added by you to a covered work,
for which you have or can give appropriate copyright permission.

     <p>Notwithstanding any other provision of this License, for material you
add to a covered work, you may (if authorized by the copyright holders
of that material) supplement the terms of this License with terms:

          <ol type=a start=1>
<li>Disclaiming warranty or limiting liability differently from the terms
of sections 15 and 16 of this License; or

          <li>Requiring preservation of specified reasonable legal notices or author
attributions in that material or in the Appropriate Legal Notices
displayed by works containing it; or

          <li>Prohibiting misrepresentation of the origin of that material, or
requiring that modified versions of such material be marked in
reasonable ways as different from the original version; or

          <li>Limiting the use for publicity purposes of names of licensors or
authors of the material; or

          <li>Declining to grant rights under trademark law for use of some trade
names, trademarks, or service marks; or

          <li>Requiring indemnification of licensors and authors of that material by
anyone who conveys the material (or modified versions of it) with
contractual assumptions of liability to the recipient, for any
liability that these contractual assumptions directly impose on those
licensors and authors.
          </ol>

     <p>All other non-permissive additional terms are considered &ldquo;further
restrictions&rdquo; within the meaning of section 10.  If the Program as you
received it, or any part of it, contains a notice stating that it is
governed by this License along with a term that is a further
restriction, you may remove that term.  If a license document contains
a further restriction but permits relicensing or conveying under this
License, you may add to a covered work material governed by the terms
of that license document, provided that the further restriction does
not survive such relicensing or conveying.

     <p>If you add terms to a covered work in accord with this section, you
must place, in the relevant source files, a statement of the
additional terms that apply to those files, or a notice indicating
where to find the applicable terms.

     <p>Additional terms, permissive or non-permissive, may be stated in the
form of a separately written license, or stated as exceptions; the
above requirements apply either way.

     <li>Termination.

     <p>You may not propagate or modify a covered work except as expressly
provided under this License.  Any attempt otherwise to propagate or
modify it is void, and will automatically terminate your rights under
this License (including any patent licenses granted under the third
paragraph of section 11).

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, you do not qualify to receive new licenses for the same
material under section 10.

     <li>Acceptance Not Required for Having Copies.

     <p>You are not required to accept this License in order to receive or run
a copy of the Program.  Ancillary propagation of a covered work
occurring solely as a consequence of using peer-to-peer transmission
to receive a copy likewise does not require acceptance.  However,
nothing other than this License grants you permission to propagate or
modify any covered work.  These actions infringe copyright if you do
not accept this License.  Therefore, by modifying or propagating a
covered work, you indicate your acceptance of this License to do so.

     <li>Automatic Licensing of Downstream Recipients.

     <p>Each time you convey a covered work, the recipient automatically
receives a license from the original licensors, to run, modify and
propagate that work, subject to this License.  You are not responsible
for enforcing compliance by third parties with this License.

     <p>An &ldquo;entity transaction&rdquo; is a transaction transferring control of an
organization, or substantially all assets of one, or subdividing an
organization, or merging organizations.  If propagation of a covered
work results from an entity transaction, each party to that
transaction who receives a copy of the work also receives whatever
licenses to the work the party's predecessor in interest had or could
give under the previous paragraph, plus a right to possession of the
Corresponding Source of the work from the predecessor in interest, if
the predecessor has it or can get it with reasonable efforts.

     <p>You may not impose any further restrictions on the exercise of the
rights granted or affirmed under this License.  For example, you may
not impose a license fee, royalty, or other charge for exercise of
rights granted under this License, and you may not initiate litigation
(including a cross-claim or counterclaim in a lawsuit) alleging that
any patent claim is infringed by making, using, selling, offering for
sale, or importing the Program or any portion of it.

     <li>Patents.

     <p>A &ldquo;contributor&rdquo; is a copyright holder who authorizes use under this
License of the Program or a work on which the Program is based.  The
work thus licensed is called the contributor's &ldquo;contributor version&rdquo;.

     <p>A contributor's &ldquo;essential patent claims&rdquo; are all patent claims owned
or controlled by the contributor, whether already acquired or
hereafter acquired, that would be infringed by some manner, permitted
by this License, of making, using, or selling its contributor version,
but do not include claims that would be infringed only as a
consequence of further modification of the contributor version.  For
purposes of this definition, &ldquo;control&rdquo; includes the right to grant
patent sublicenses in a manner consistent with the requirements of
this License.

     <p>Each contributor grants you a non-exclusive, worldwide, royalty-free
patent license under the contributor's essential patent claims, to
make, use, sell, offer for sale, import and otherwise run, modify and
propagate the contents of its contributor version.

     <p>In the following three paragraphs, a &ldquo;patent license&rdquo; is any express
agreement or commitment, however denominated, not to enforce a patent
(such as an express permission to practice a patent or covenant not to
sue for patent infringement).  To &ldquo;grant&rdquo; such a patent license to a
party means to make such an agreement or commitment not to enforce a
patent against the party.

     <p>If you convey a covered work, knowingly relying on a patent license,
and the Corresponding Source of the work is not available for anyone
to copy, free of charge and under the terms of this License, through a
publicly available network server or other readily accessible means,
then you must either (1) cause the Corresponding Source to be so
available, or (2) arrange to deprive yourself of the benefit of the
patent license for this particular work, or (3) arrange, in a manner
consistent with the requirements of this License, to extend the patent
license to downstream recipients.  &ldquo;Knowingly relying&rdquo; means you have
actual knowledge that, but for the patent license, your conveying the
covered work in a country, or your recipient's use of the covered work
in a country, would infringe one or more identifiable patents in that
country that you have reason to believe are valid.

     <p>If, pursuant to or in connection with a single transaction or
arrangement, you convey, or propagate by procuring conveyance of, a
covered work, and grant a patent license to some of the parties
receiving the covered work authorizing them to use, propagate, modify
or convey a specific copy of the covered work, then the patent license
you grant is automatically extended to all recipients of the covered
work and works based on it.

     <p>A patent license is &ldquo;discriminatory&rdquo; if it does not include within the
scope of its coverage, prohibits the exercise of, or is conditioned on
the non-exercise of one or more of the rights that are specifically
granted under this License.  You may not convey a covered work if you
are a party to an arrangement with a third party that is in the
business of distributing software, under which you make payment to the
third party based on the extent of your activity of conveying the
work, and under which the third party grants, to any of the parties
who would receive the covered work from you, a discriminatory patent
license (a) in connection with copies of the covered work conveyed by
you (or copies made from those copies), or (b) primarily for and in
connection with specific products or compilations that contain the
covered work, unless you entered into that arrangement, or that patent
license was granted, prior to 28 March 2007.

     <p>Nothing in this License shall be construed as excluding or limiting
any implied license or other defenses to infringement that may
otherwise be available to you under applicable patent law.

     <li>No Surrender of Others' Freedom.

     <p>If conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot convey
a covered work so as to satisfy simultaneously your obligations under
this License and any other pertinent obligations, then as a
consequence you may not convey it at all.  For example, if you agree
to terms that obligate you to collect a royalty for further conveying
from those to whom you convey the Program, the only way you could
satisfy both those terms and this License would be to refrain entirely
from conveying the Program.

     <li>Use with the GNU Affero General Public License.

     <p>Notwithstanding any other provision of this License, you have
permission to link or combine any covered work with a work licensed
under version 3 of the GNU Affero General Public License into a single
combined work, and to convey the resulting work.  The terms of this
License will continue to apply to the part which is the covered work,
but the special requirements of the GNU Affero General Public License,
section 13, concerning interaction through a network will apply to the
combination as such.

     <li>Revised Versions of this License.

     <p>The Free Software Foundation may publish revised and/or new versions
of the GNU General Public License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.

     <p>Each version is given a distinguishing version number.  If the Program
specifies that a certain numbered version of the GNU General Public
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that numbered version or
of any later version published by the Free Software Foundation.  If
the Program does not specify a version number of the GNU General
Public License, you may choose any version ever published by the Free
Software Foundation.

     <p>If the Program specifies that a proxy can decide which future versions
of the GNU General Public License can be used, that proxy's public
statement of acceptance of a version permanently authorizes you to
choose that version for the Program.

     <p>Later license versions may give you additional or different
permissions.  However, no additional obligations are imposed on any
author or copyright holder as a result of your choosing to follow a
later version.

     <li>Disclaimer of Warranty.

     <p>THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM &ldquo;AS IS&rdquo; WITHOUT
WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND
PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE PROGRAM PROVE
DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR
CORRECTION.

     <li>Limitation of Liability.

     <p>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR
CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT
NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR
LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM
TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER
PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.

     <li>Interpretation of Sections 15 and 16.

     <p>If the disclaimer of warranty and limitation of liability provided
above cannot be given local legal effect according to their terms,
reviewing courts shall apply local law that most closely approximates
an absolute waiver of all civil liability in connection with the
Program, unless a warranty or assumption of liability accompanies a
copy of the Program in return for a fee.

     </ol>

<h3 class="heading">END OF TERMS AND CONDITIONS</h3>

<h3 class="heading">How to Apply These Terms to Your New Programs</h3>

<p>If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these
terms.

   <p>To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
state the exclusion of warranty; and each file should have at least
the &ldquo;copyright&rdquo; line and a pointer to where the full notice is found.

<pre class="smallexample">     <var>one line to give the program's name and a brief idea of what it does.</var>
     Copyright (C) <var>year</var> <var>name of author</var>
     
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or (at
     your option) any later version.
     
     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.
     
     You should have received a copy of the GNU General Public License
     along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
</pre>
   <p>Also add information on how to contact you by electronic and paper mail.

   <p>If the program does terminal interaction, make it output a short
notice like this when it starts in an interactive mode:

<pre class="smallexample">     <var>program</var> Copyright (C) <var>year</var> <var>name of author</var>
     This program comes with ABSOLUTELY NO WARRANTY; for details type &lsquo;<samp><span class="samp">show w</span></samp>&rsquo;.
     This is free software, and you are welcome to redistribute it
     under certain conditions; type &lsquo;<samp><span class="samp">show c</span></samp>&rsquo; for details.
</pre>
   <p>The hypothetical commands &lsquo;<samp><span class="samp">show w</span></samp>&rsquo; and &lsquo;<samp><span class="samp">show c</span></samp>&rsquo; should show
the appropriate parts of the General Public License.  Of course, your
program's commands might be different; for a GUI interface, you would
use an &ldquo;about box&rdquo;.

   <p>You should also get your employer (if you work as a programmer) or school,
if any, to sign a &ldquo;copyright disclaimer&rdquo; for the program, if necessary. 
For more information on this, and how to apply and follow the GNU GPL, see
<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

   <p>The GNU General Public License does not permit incorporating your
program into proprietary programs.  If your program is a subroutine
library, you may consider it more useful to permit linking proprietary
applications with the library.  If this is what you want to do, use
the GNU Lesser General Public License instead of this License.  But
first, please read <a href="http://www.gnu.org/philosophy/why-not-lgpl.html">http://www.gnu.org/philosophy/why-not-lgpl.html</a>.

<div class="node">
<a name="Concept-Index"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#API-Index">API Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying-Information">Copying Information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Concept Index</h2>

<ul class="index-cp" compact>
<li><a href="#index-AIX-12">AIX</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Compiling-your-application-30">Compiling your application</a>: <a href="#Building-the-source">Building the source</a></li>
<li><a href="#index-Contributing-25">Contributing</a>: <a href="#Contributing">Contributing</a></li>
<li><a href="#index-Debian-1">Debian</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Download-23">Download</a>: <a href="#Downloading-and-Installing">Downloading and Installing</a></li>
<li><a href="#index-FDL_002c-GNU-Free-Documentation-License-83">FDL, GNU Free Documentation License</a>: <a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></li>
<li><a href="#index-FreeBSD-18">FreeBSD</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Future-goals-28">Future goals</a>: <a href="#Planned-Features">Planned Features</a></li>
<li><a href="#index-GPL_002c-GNU-General-Public-License-84">GPL, GNU General Public License</a>: <a href="#GNU-GPL">GNU GPL</a></li>
<li><a href="#index-Hacking-26">Hacking</a>: <a href="#Contributing">Contributing</a></li>
<li><a href="#index-Header-files-29">Header files</a>: <a href="#Header">Header</a></li>
<li><a href="#index-HP_002dUX-14">HP-UX</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Installation-22">Installation</a>: <a href="#Downloading-and-Installing">Downloading and Installing</a></li>
<li><a href="#index-IRIX-11">IRIX</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-License_002c-GNU-GPL-85">License, GNU GPL</a>: <a href="#GNU-GPL">GNU GPL</a></li>
<li><a href="#index-Mandrake-10">Mandrake</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-mechanism-status-codes-34">mechanism status codes</a>: <a href="#Error-Handling">Error Handling</a></li>
<li><a href="#index-Memory-allocation-failure-32">Memory allocation failure</a>: <a href="#Out-of-Memory-handling">Out of Memory handling</a></li>
<li><a href="#index-Motorola-Coldfire-19">Motorola Coldfire</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-NetBSD-16">NetBSD</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-OpenBSD-17">OpenBSD</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Out-of-Memory-handling-31">Out of Memory handling</a>: <a href="#Out-of-Memory-handling">Out of Memory handling</a></li>
<li><a href="#index-RedHat-6">RedHat</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-RedHat-Advanced-Server-8">RedHat Advanced Server</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Reporting-Bugs-24">Reporting Bugs</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-Solaris-15">Solaris</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-status-codes-33">status codes</a>: <a href="#Error-Handling">Error Handling</a></li>
<li><a href="#index-SuSE-4">SuSE</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-SuSE-Linux-5">SuSE Linux</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Todo-list-27">Todo list</a>: <a href="#Planned-Features">Planned Features</a></li>
<li><a href="#index-Tru64-3">Tru64</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-uClibc-21">uClibc</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-uClinux-20">uClinux</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Windows-13">Windows</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
   </ul><div class="node">
<a name="API-Index"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Concept-Index">Concept Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">API Index</h2>



<ul class="index-fn" compact>
<li><a href="#index-gss_005faccept_005fsec_005fcontext-46"><code>gss_accept_sec_context</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
<li><a href="#index-gss_005facquire_005fcred-40"><code>gss_acquire_cred</code></a>: <a href="#Credential-Management">Credential Management</a></li>
<li><a href="#index-gss_005fadd_005fcred-41"><code>gss_add_cred</code></a>: <a href="#Credential-Management">Credential Management</a></li>
<li><a href="#index-gss_005fadd_005foid_005fset_005fmember-67"><code>gss_add_oid_set_member</code></a>: <a href="#Miscellaneous-Routines">Miscellaneous Routines</a></li>
<li><a href="#index-GSS_005fCALLING_005fERROR-36"><code>GSS_CALLING_ERROR</code></a>: <a href="#Error-Handling">Error Handling</a></li>
<li><a href="#index-gss_005fcanonicalize_005fname-64"><code>gss_canonicalize_name</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005fcheck_005fversion-76"><code>gss_check_version</code></a>: <a href="#Extended-GSS-API">Extended GSS API</a></li>
<li><a href="#index-gss_005fcompare_005fname-60"><code>gss_compare_name</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005fcontext_005ftime-49"><code>gss_context_time</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
<li><a href="#index-gss_005fcopy_005foid-78"><code>gss_copy_oid</code></a>: <a href="#Extended-GSS-API">Extended GSS API</a></li>
<li><a href="#index-gss_005fcreate_005fempty_005foid_005fset-72"><code>gss_create_empty_oid_set</code></a>: <a href="#Miscellaneous-Routines">Miscellaneous Routines</a></li>
<li><a href="#index-gss_005fdecapsulate_005ftoken-82"><code>gss_decapsulate_token</code></a>: <a href="#Extended-GSS-API">Extended GSS API</a></li>
<li><a href="#index-gss_005fdelete_005fsec_005fcontext-47"><code>gss_delete_sec_context</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
<li><a href="#index-gss_005fdisplay_005fname-59"><code>gss_display_name</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005fdisplay_005fstatus-68"><code>gss_display_status</code></a>: <a href="#Miscellaneous-Routines">Miscellaneous Routines</a></li>
<li><a href="#index-gss_005fduplicate_005fname-66"><code>gss_duplicate_name</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005fduplicate_005foid-79"><code>gss_duplicate_oid</code></a>: <a href="#Extended-GSS-API">Extended GSS API</a></li>
<li><a href="#index-gss_005fencapsulate_005ftoken-81"><code>gss_encapsulate_token</code></a>: <a href="#Extended-GSS-API">Extended GSS API</a></li>
<li><a href="#index-GSS_005fERROR-39"><code>GSS_ERROR</code></a>: <a href="#Error-Handling">Error Handling</a></li>
<li><a href="#index-gss_005fexport_005fname-65"><code>gss_export_name</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005fexport_005fsec_005fcontext-52"><code>gss_export_sec_context</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
<li><a href="#index-gss_005fget_005fmic-54"><code>gss_get_mic</code></a>: <a href="#Per_002dMessage-Routines">Per-Message Routines</a></li>
<li><a href="#index-gss_005fimport_005fname-58"><code>gss_import_name</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005fimport_005fsec_005fcontext-53"><code>gss_import_sec_context</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
<li><a href="#index-gss_005findicate_005fmechs-69"><code>gss_indicate_mechs</code></a>: <a href="#Miscellaneous-Routines">Miscellaneous Routines</a></li>
<li><a href="#index-gss_005finit_005fsec_005fcontext-45"><code>gss_init_sec_context</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
<li><a href="#index-gss_005finquire_005fcontext-50"><code>gss_inquire_context</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
<li><a href="#index-gss_005finquire_005fcred-42"><code>gss_inquire_cred</code></a>: <a href="#Credential-Management">Credential Management</a></li>
<li><a href="#index-gss_005finquire_005fcred_005fby_005fmech-43"><code>gss_inquire_cred_by_mech</code></a>: <a href="#Credential-Management">Credential Management</a></li>
<li><a href="#index-gss_005finquire_005fmech_005ffor_005fsaslname-74"><code>gss_inquire_mech_for_saslname</code></a>: <a href="#SASL-GS2-Routines">SASL GS2 Routines</a></li>
<li><a href="#index-gss_005finquire_005fmechs_005ffor_005fname-63"><code>gss_inquire_mechs_for_name</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005finquire_005fnames_005ffor_005fmech-62"><code>gss_inquire_names_for_mech</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005finquire_005fsaslname_005ffor_005fmech-75"><code>gss_inquire_saslname_for_mech</code></a>: <a href="#SASL-GS2-Routines">SASL GS2 Routines</a></li>
<li><a href="#index-gss_005foid_005fequal-77"><code>gss_oid_equal</code></a>: <a href="#Extended-GSS-API">Extended GSS API</a></li>
<li><a href="#index-gss_005fprocess_005fcontext_005ftoken-48"><code>gss_process_context_token</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
<li><a href="#index-gss_005frelease_005fbuffer-70"><code>gss_release_buffer</code></a>: <a href="#Miscellaneous-Routines">Miscellaneous Routines</a></li>
<li><a href="#index-gss_005frelease_005fcred-44"><code>gss_release_cred</code></a>: <a href="#Credential-Management">Credential Management</a></li>
<li><a href="#index-gss_005frelease_005fname-61"><code>gss_release_name</code></a>: <a href="#Name-Manipulation">Name Manipulation</a></li>
<li><a href="#index-gss_005frelease_005foid_005fset-71"><code>gss_release_oid_set</code></a>: <a href="#Miscellaneous-Routines">Miscellaneous Routines</a></li>
<li><a href="#index-GSS_005fROUTINE_005fERROR-37"><code>GSS_ROUTINE_ERROR</code></a>: <a href="#Error-Handling">Error Handling</a></li>
<li><a href="#index-GSS_005fS_005f_002e_002e_002e-35"><code>GSS_S_...</code></a>: <a href="#Error-Handling">Error Handling</a></li>
<li><a href="#index-GSS_005fSUPPLEMENTARY_005fINFO-38"><code>GSS_SUPPLEMENTARY_INFO</code></a>: <a href="#Error-Handling">Error Handling</a></li>
<li><a href="#index-gss_005ftest_005foid_005fset_005fmember-73"><code>gss_test_oid_set_member</code></a>: <a href="#Miscellaneous-Routines">Miscellaneous Routines</a></li>
<li><a href="#index-gss_005funwrap-57"><code>gss_unwrap</code></a>: <a href="#Per_002dMessage-Routines">Per-Message Routines</a></li>
<li><a href="#index-gss_005fuserok-80"><code>gss_userok</code></a>: <a href="#Extended-GSS-API">Extended GSS API</a></li>
<li><a href="#index-gss_005fverify_005fmic-55"><code>gss_verify_mic</code></a>: <a href="#Per_002dMessage-Routines">Per-Message Routines</a></li>
<li><a href="#index-gss_005fwrap-56"><code>gss_wrap</code></a>: <a href="#Per_002dMessage-Routines">Per-Message Routines</a></li>
<li><a href="#index-gss_005fwrap_005fsize_005flimit-51"><code>gss_wrap_size_limit</code></a>: <a href="#Context_002dLevel-Routines">Context-Level Routines</a></li>
   </ul></body></html>

